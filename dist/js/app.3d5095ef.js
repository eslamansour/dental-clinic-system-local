(function(t){function e(e){for(var i,s,r=e[0],l=e[1],d=e[2],c=0,u=[];c<r.length;c++)s=r[c],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&u.push(n[s][0]),n[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);m&&m(e);while(u.length)u.shift()();return o.push.apply(o,d||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,s=1;s<a.length;s++){var r=a[s];0!==n[r]&&(i=!1)}i&&(o.splice(e--,1),t=l(l.s=a[0]))}return t}var i={},s={app:0},n={app:0},o=[];function r(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-76d28651":"ffee0c04"}[t]+".js"}function l(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={"chunk-76d28651":1};s[t]?e.push(s[t]):0!==s[t]&&a[t]&&e.push(s[t]=new Promise((function(e,a){for(var i="css/"+({}[t]||t)+"."+{"chunk-76d28651":"0b42df8d"}[t]+".css",n=l.p+i,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var d=o[r],c=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(c===i||c===n))return e()}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){d=u[r],c=d.getAttribute("data-href");if(c===i||c===n)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var i=e&&e.target&&e.target.src||n,o=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete s[t],m.parentNode.removeChild(m),a(o)},m.href=n;var g=document.getElementsByTagName("head")[0];g.appendChild(m)})).then((function(){s[t]=0})));var i=n[t];if(0!==i)if(i)e.push(i[2]);else{var o=new Promise((function(e,a){i=n[t]=[e,a]}));e.push(i[2]=o);var d,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=r(t);var u=new Error;d=function(e){c.onerror=c.onload=null,clearTimeout(m);var a=n[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",u.name="ChunkLoadError",u.type=i,u.request=s,a[1](u)}n[t]=void 0}};var m=setTimeout((function(){d({type:"timeout",target:c})}),12e4);c.onerror=c.onload=d,document.head.appendChild(c)}return Promise.all(e)},l.m=t,l.c=i,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(a,i,function(e){return t[e]}.bind(null,i));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],c=d.push.bind(d);d.push=e,d=d.slice();for(var u=0;u<d.length;u++)e(d[u]);var m=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"08bc":function(t,e,a){"use strict";a("18a1")},"0d7b":function(t,e,a){"use strict";a("f191")},1254:function(t,e,a){"use strict";a("58b7")},"18a1":function(t,e,a){},"1c16":function(t,e,a){},"2d64":function(t,e,a){"use strict";a("7d85")},"354d":function(t,e,a){"use strict";a("3c82")},"3c82":function(t,e,a){},"4e43":function(t,e,a){t.exports=a.p+"img/type1-0.6e188002.png"},"56d7":function(t,e,a){"use strict";a.r(e);a("d3b7"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app",lang:t.lang}},[a("nav-bar",{attrs:{accountType:t.accountType}}),a("router-view",{staticClass:"pageContent"})],1)},n=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return["login"].includes(t.$route.name)?t._e():a("div",[a("div",{staticClass:"header",attrs:{lang:t.lang}},[a("a",{staticClass:"nav-trigger",attrs:{href:"#"},on:{click:t.navToogle}},[a("span")]),a("div",{staticClass:"logoutBtn-div"},[a("b-dropdown",{staticClass:"mt-2 logoutBtn",attrs:{size:"sm",id:"dropdown-1",right:t.langIsEng,text:t.username,variant:"outline-secondary"}},[a("b-form-radio-group",{staticStyle:{"padding-inline-start":"22px","padding-bottom":"10px"},attrs:{size:"sm",id:"btn-radios-1","button-variant":"outline-primary",options:[{text:"En",value:"en"},{text:"ع ر",value:"ar"}],buttons:""},on:{change:function(e){return t.changeLang()}},model:{value:t.currentLang,callback:function(e){t.currentLang=e},expression:"currentLang"}}),a("b-dropdown-item",{on:{click:function(e){return t.goToSettingsRouter("editProfile")}}},[t._v(" "+t._s(t.langIsEng?"Edit Account":"تعديل الحساب")+" ")]),a("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-logout",modifiers:{"modal-logout":!0}}]},[t._v(" "+t._s(t.langIsEng?"Logout":"تسجيل الخروج")+" ")])],1)],1)]),["NotFound"].includes(t.$route.name)?t._e():a("div",{staticClass:"side-nav",class:{visible:t.isVisible},attrs:{lang:t.lang}},[a("div",{staticClass:"logo"},[a("span",[t._v(t._s(t.langIsEng?"Admin Panel":"لوحة الإعدادات"))])]),a("nav",{staticStyle:{height:"-webkit-fill-available","-webkit-box-shadow":"rgb(134 134 134) -6px -1px 4px -6px","-moz-box-shadow":"rgb(134 134 134) -6px -1px 4px -6px","box-shadow":"rgb(134 134 134) -6px -1px 4px -6px"}},[a("ul",[a("li",{on:{click:function(e){t.isVisible=!1}}},[a("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[a("i",{staticClass:"fa fa-home",staticStyle:{"font-size":"19px"}}),a("span",{staticClass:"hideInSmall"},[t._v(" "+t._s(t.langIsEng?"Home Page":"الصفحة الرئيسية")+" ")])])],1),"nurse"==t.role?a("li",{on:{click:function(e){t.isVisible=!1}}},[a("router-link",{staticClass:"nav-link",attrs:{to:"/add-visit"}},[a("i",{staticClass:"fa fa-user-md"}),a("span",{staticClass:"hideInSmall"},[t._v(" "+t._s(t.langIsEng?"New Visit":"اضافة زيارة")+" ")])])],1):t._e(),"nurse"==t.role?a("li",{on:{click:function(e){t.isVisible=!1}}},[a("router-link",{staticClass:"nav-link",attrs:{to:"/add-patient"}},[a("i",{staticClass:"fa fa-plus"}),a("span",{staticClass:"hideInSmall"},[t._v(" "+t._s(t.langIsEng?"New Patient":"اضافة مريض")+" ")])])],1):t._e(),"nurse"==t.role?a("li",{on:{click:function(e){t.isVisible=!1}}},[a("router-link",{staticClass:"nav-link",attrs:{to:"/patients"}},[a("i",{staticClass:"fa fa-users"}),a("span",{staticClass:"hideInSmall"},[t._v(" "+t._s(t.langIsEng?"Patients":"المرضى")+" ")])])],1):t._e()])])]),a("b-modal",{attrs:{id:"modal-logout",title:t.langIsEng?"Logout":"تسجيل الخروج"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{size:"sm",variant:"secondary"},on:{click:function(e){return t.$bvModal.hide("modal-logout")}}},[t._v(" "+t._s(t.langIsEng?"Cancel":"الغاء")+" ")]),a("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(e){return t.logout()}}},[t._v(" "+t._s(t.langIsEng?"Logout":"الخروج")+" ")])]},proxy:!0}],null,!1,669352020)},[a("p",{staticClass:"my-4"},[t._v(t._s(t.langIsEng?"Do you want to logout?":"هل تريد تسجيل الخروج؟"))])])],1)},r=[],l=a("2f62"),d={token:null,user_name:null,account_type:null,lang:"ar",role:null},c=d,u={authToken:function(t){return t.token},username:function(t){return t.user_name},accoutType:function(t){return t.account_type},getlang:function(t){return t.lang},getRole:function(t){return t.role}},m=u,g={SET_TOKEN:function(t,e){t.token=e},SET_USERNAME:function(t,e){t.user_name=e},SET_ACCOUNT_TYPE:function(t,e){t.account_type=e},LOGOUT:function(t){t.token=null,t.user_name=null,t.account_type=null,t.role=null,t.lang="ar"},SET_LANG:function(t,e){t.lang=e},SET_ROLE:function(t,e){t.role=e}},h=g,p={SET_ACCOUNT_TYPE:function(t,e){var a=t.commit;a("SET_ACCOUNT_TYPE",e)},SET_USERNAME:function(t,e){var a=t.commit;a("SET_USERNAME",e)},SET_LANG:function(t,e){var a=t.commit;a("SET_LANG",e)},SET_ROLE:function(t,e){var a=t.commit;a("SET_ROLE",e)}},f=p,b=a("0e44");i["default"].use(l["a"]);var v=new l["a"].Store({getters:m,mutations:h,state:c,actions:f,plugins:[Object(b["a"])()]}),_=a("bc3a"),y=a.n(_),x=a("8c4f"),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-page"},[a("div",{staticClass:"container",attrs:{dir:"rtl"}},[a("div",{staticClass:"panel panel-default login-panel"},[a("div",[a("b-row",[a("b-col",{attrs:{lg:"12",md:"12"}},[a("div",{staticClass:"panel-heading"},[a("h3",[a("strong",[t._v("عيادة الاسنان")])])])])],1),a("login")],1)])])])},D=[],I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[a("b-container",{staticClass:"bv-example-row"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"text-center text-danger my-2",class:{"alert-div-padding":t.isLoading}},[a("b-spinner",{staticClass:"align-middle"})],1),a("b-row",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}]},[a("b-col",{staticClass:"alert-div",attrs:{lg:"12",md:"12"}},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),a("br"),a("br")],1),a("br"),a("br"),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-user_name",label:"اسم المستخدم","label-for":"admin-user_name"}},[a("b-form-input",{attrs:{id:"admin-user_name",name:"admin-user_name",state:t.validateState("user_name"),"aria-describedby":"input-user_name"},model:{value:t.$v.form.user_name.$model,callback:function(e){t.$set(t.$v.form.user_name,"$model",e)},expression:"$v.form.user_name.$model"}}),t.$v.form.user_name.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-user_name"}},[t._v(" اسم المستخدم مطلوب ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{id:"group-admin-password",label:"كلمة المرور","label-for":"admin-password"}},[a("b-form-input",{attrs:{id:"admin-password",name:"admin-password",state:t.validateState("password"),"aria-describedby":"input-password",type:"password"},model:{value:t.$v.form.password.$model,callback:function(e){t.$set(t.$v.form.password,"$model",e)},expression:"$v.form.password.$model"}}),t.$v.form.password.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-password"}},[t._v(" كلمة المرور مطلوبه ")])],1),a("b-form-group",{attrs:{label:"تسجيل الدخول كـ "}},[a("b-form-radio-group",{model:{value:t.form.selectedRole,callback:function(e){t.$set(t.form,"selectedRole",e)},expression:"form.selectedRole"}},[a("b-form-radio",{attrs:{value:"doctor"}},[t._v("طبيب")]),a("b-form-radio",{attrs:{value:"nurse"}},[t._v("ممرض")])],1)],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("div",{staticClass:"form-footer"},[a("b-button",{staticClass:"login-btn",attrs:{type:"submit",variant:"primary"}},[t._v(" تسجيل الدخول")]),a("br")],1),a("br")])],1)],1)],1)],1)},w=[],$=a("1dce"),k=a.n($),E=a("b5ae"),T={mixins:[$["validationMixin"]],data:function(){return{isLoading:!1,alertCountdown:0,alertType:"",alertText:"",form:{user_name:null,password:null,selectedRole:"doctor"}}},validations:{form:{user_name:{required:E["required"]},password:{required:E["required"]}}},methods:{validateState:function(t){var e=this.$v.form[t],a=e.$dirty,i=e.$error;return a?!i:null},countDownChanged:function(t){this.alertCountdown=t},submitForm:function(){this.onSubmit()},onSubmit:function(){this.$v.form.$touch(),this.$v.form.$anyError||this.login()},login:function(){var t=this;this.isLoading=!0;var e=function(e){v.commit("SET_ROLE",t.form.selectedRole),v.commit("SET_USERNAME",t.form.selectedRole),v.commit("SET_LANG","doctor"==t.form.selectedRole?"en":"ar"),v.commit("SET_TOKEN",e.data.data.token),t.$router.push({name:"home"}),"nurse"==t.form.selectedRole?(v.commit("SET_LANG","ar"),location.reload()):(v.commit("SET_LANG","en"),location.reload())},a=function(){t.isLoading=!1,t.alertType="danger",t.alertText="خطأ في اسم المستخدم او كلمة المرور",t.alertCountdown="3"};pe("post","/"+this.form.selectedRole+"/login",!1,this.form,e,a,!0)}},created:function(){v.getters.authToken?this.$router.push({name:"home"}):v.commit("SET_LANG","ar")}},S=T,L=(a("08bc"),a("2877")),A=Object(L["a"])(S,I,w,!1,null,null,null),P=A.exports,M={components:{login:P}},F=M,q=(a("d6db"),Object(L["a"])(F,C,D,!1,null,null,null)),O=q.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isDoctor?a("div",[a("doctor-visits")],1):a("div",[a("visits")],1)])},R=[],V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:" pageContent"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),a("div",{staticClass:"page-header"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2 col-sm-12 col-xs-12 fiter-col"},[a("label",[t._v(t._s(t.langIsEng?"Phone":"المحمول"))]),a("b-form-input",{attrs:{placeholder:t.langIsEng?"Phone number":"رقم المحمول"},on:{change:t.loadData},model:{value:t.selectedPhone,callback:function(e){t.selectedPhone=e},expression:"selectedPhone"}})],1),a("div",{staticClass:"col-md-3 col-sm-12 col-xs-12 fiter-col"},[a("label",[t._v(t._s(t.langIsEng?"Doctor":"الطبيب"))]),a("b-form-select",{staticClass:"grade-selectOption",attrs:{options:t.doctors},on:{change:t.loadData},model:{value:t.selectedDoctor,callback:function(e){t.selectedDoctor=e},expression:"selectedDoctor"}})],1),a("div",{staticClass:"col-md-2 col-sm-12 col-xs-12 fiter-col"},[a("label",[t._v(t._s(t.langIsEng?"Visit status":"حالة الزيارة"))]),a("b-form-select",{staticClass:"grade-selectOption",attrs:{options:t.langIsEng?t.visitsStatusEn:t.visitsStatusAr},on:{change:t.loadData},model:{value:t.selectedVisitStatus,callback:function(e){t.selectedVisitStatus=e},expression:"selectedVisitStatus"}})],1),a("div",{staticClass:"col-md-4 col-sm-12 col-xs-12 fiter-col"},[a("label",{attrs:{for:"example-datepicker"}},[t._v(t._s(t.langIsEng?"Date":"التاريخ"))]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"example-datepicker",placeholder:t.langIsEng?"Data":"التاريخ","today-button":"","reset-button":"","close-button":""},on:{input:t.loadData},model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}})],1),a("div",{staticClass:"col-md-1 col-sm-12 col-xs-12 fiter-col"},[a("br"),a("b-button",{staticClass:"btn btn-primary options-table-btn del-options-table-btn mt-3",staticStyle:{float:"right"},attrs:{type:"button","data-toggle":"modal","data-target":"#delAdmin"},on:{click:function(e){return t.loadData(t.currentPage)}}},[a("i",{staticClass:"fa fa-refresh"})])],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.pageIsLoading,expression:"pageIsLoading"}],staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.pageIsLoading,expression:"!pageIsLoading"}],staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{},[a("div",{},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered table-hover"},[a("thead",[a("tr",[t._m(0),a("th",[a("div",{staticClass:"tbl-data"},[t._v(t._s(t.langIsEng?"Name":"الاسم"))])]),a("th",[a("span",{staticClass:"tbl-data"},[t._v(t._s(t.langIsEng?"Phone":"المحمول"))])]),a("th",[a("span",{staticClass:"tbl-data"},[t._v(t._s(t.langIsEng?"Doctor":"الطبيب"))])]),a("th",[a("span",{staticClass:"tbl-data"},[t._v(t._s(t.langIsEng?"Date and time":"التاريخ والوقت"))])]),a("th",{staticStyle:{"z-index":"1"}},[a("span",{staticClass:"tbl-data"},[t._v(t._s(t.langIsEng?"Statue":"الحالة"))])]),a("th",{staticStyle:{"z-index":"1"}},[a("span",{staticClass:"tbl-data"},[t._v(t._s(t.langIsEng?"Cash":"المبلغ"))])]),t._m(1),a("th",{staticClass:"td-option",staticStyle:{"z-index":"1"},attrs:{width:"10%"}},[a("span",{attrs:{clas:"tbl-data"}},[a("b-button",{staticClass:"btn btn-success add-admin-btn options-table-btn",attrs:{size:"sm","data-toggle":"modal","data-target":"#addAdmin"},on:{click:function(e){return t.goToRoute("AddVisit")}}},[a("i",{staticClass:"fa fa-plus ",class:{"ml-2":!t.langIsEng,"mr-2":t.langIsEng}}),t._v(" "+t._s(t.langIsEng?"New Visit":"إضافة زيارة")+" ")])],1)])])]),a("tbody",[0==t.visits.length&&t.isLoading?a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"9"}},[a("div",{staticClass:"text-center >text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1)])]):t._e(),0!=t.visits.length||t.isLoading?t._e():a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"9"}},[t._v(" لا يوجد معلومات ")])]),t._l(t.visits,(function(e,i){return a("tr",{key:i},[a("td",[t._v(" "+t._s(++i)+" ")]),a("td",[a("div",{staticClass:"tbl-data"},[t._v(" "+t._s(e.patient?e.patient.name:"")+" ")])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.patient?e.patient.phone:""))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s((t.langIsEng?"Dr/ ":"د/ ")+t.doctorsDic[e.doctor_id].name))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.date+" - "+e.time))])]),a("td",[a("span",{staticClass:"tbl-data"},[a("b-badge",{attrs:{variant:"منتظر"==e.status?"warning":"مع الطبيب"==e.status?"primary":"جاهز للدفع"==e.status?"danger":"info"}},[t._v(t._s((t.langIsEng,t.statusDicAr[e.status])))]),"جاهز للدفع"==e.status?a("b-badge",{staticClass:"mr-1",attrs:{variant:"primary"}},[t._v(t._s(e.total_cost)+" جنية")]):t._e()],1)]),a("td",[a("span",{staticClass:"tbl-data"},["انتهت الزيارة"==e.status?a("b-badge",{staticClass:"mr-1",attrs:{variant:"primary"}},[t._v("تم دفع "+t._s(e.paid)+" من "+t._s(e.total_cost)+" جنية")]):t._e(),0!=e.patient.wallet?a("b-badge",{staticClass:"mr-1",attrs:{variant:"warning"}},[t._v("مديون ب "+t._s(e.patient.wallet)+" جنية")]):t._e()],1)]),a("td",{staticClass:"td-option"},[a("div",{staticClass:"form-group row-option"},["منتظر"==e.status?a("b-button",{staticClass:"btn btn-success options-table-btn edit-options-table-btn",attrs:{type:"button",size:"lg"},on:{click:function(a){return t.confirmupdateVisit(e,e.id,"مع الطبيب")}}},[t._v(t._s(t.langIsEng?"Go to doctor":"ادخل للطبيب"))]):t._e(),"جاهز للدفع"==e.status||"انتهت الزيارة"==e.status&&e.paid!=e.total_cost?a("b-button",{staticClass:"btn btn-success options-table-btn edit-options-table-btn",attrs:{type:"button",size:"lg"},on:{click:function(a){return t.confirmupdateVisit(e,e.id,"انتهت الزيارة")}}},[t._v(t._s(t.langIsEng?"Cash in":"دفع المبلغ"))]):t._e()],1)]),a("td",{staticClass:"td-option"},["منتظر"==e.status?a("div",{staticClass:"form-group row-option"},[a("b-button",{staticClass:"btn btn-primary options-table-btn edit-options-table-btn",attrs:{type:"button",size:"sm"},on:{click:function(a){return t.goToEditRoute(e.id,e.patient.name)}}},[a("i",{staticClass:"fa fa-edit"})]),a("b-button",{staticClass:"btn btn-danger options-table-btn del-options-table-btn",attrs:{type:"button",size:"sm","data-toggle":"modal","data-target":"#delAdmin"},on:{click:function(a){return t.openDeleteItem(e.id)}}},[a("i",{staticClass:"fa fa-trash"})])],1):t._e()])])}))],2)])]),a("b-pagination",{attrs:{"total-rows":t.total,"per-page":10,align:"center",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])]),a("b-modal",{attrs:{centered:"",title:"تعديل الزيارة"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left mr-1",attrs:{disabled:t.disbleModalButton,variant:"primary",size:"sm"},on:{click:function(e){return t.updateVisitStatus()}}},[t._v(" موافق ")]),a("b-button",{staticClass:"float-left",attrs:{variant:"secondary",size:"sm"},on:{click:function(e){t.confirmUpdate=!1}}},[t._v(" الغاء ")])],1)]},proxy:!0}]),model:{value:t.confirmUpdate,callback:function(e){t.confirmUpdate=e},expression:"confirmUpdate"}},[a("p",{staticClass:"my-4"},[t._v(t._s(t.langIsEng?"Are you sure?":' موافق على تعديل الزيارة الى "'+t.currentStatus+'" ؟'))]),"انتهت الزيارة"==t.currentStatus?a("div",[a("label",[t._v(t._s(t.langIsEng?"Price":"السعر المدفوع"))]),a("b-form-input",{attrs:{type:"number",min:"1",max:t.selectedVisit.total_cost},model:{value:t.currentCost,callback:function(e){t.currentCost=e},expression:"currentCost"}}),t.disbleModalButton?a("label",{staticStyle:{color:"red","font-size":"12px"}},[t._v("السعر المدفوع يجب ان يكون اقل من "+t._s(t.selectedVisit.total_cost)+" جنية .")]):t._e()],1):t._e()]),a("b-modal",{attrs:{centered:"",title:t.langIsEng?"Remove visit":"حذف الزيارة"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("b-button",{class:t.langIsEng?"float-right ml-1":"float-left mr-1",attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.deleteItem()}}},[t._v(" "+t._s(t.langIsEng?"Remove":"حذف")+" ")]),a("b-button",{class:t.langIsEng?"float-right":"float-left",attrs:{variant:"secondary",size:"sm"},on:{click:function(e){t.delModal=!1}}},[t._v(" "+t._s(t.langIsEng?"Cancel":"الغاء")+" ")])],1)]},proxy:!0}]),model:{value:t.delModal,callback:function(e){t.delModal=e},expression:"delModal"}},[a("p",{staticClass:"my-4"},[t._v(t._s(t.langIsEng?"Do you want to remove this visit?":"هل تريد حذف هذه الزيارة؟"))])])],1)},z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{attrs:{width:"5%"}},[a("span",{staticClass:"tbl-data"},[t._v("#")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticStyle:{"z-index":"1"}},[a("span",{staticClass:"tbl-data"})])}],j=(a("b0c0"),a("159b"),{name:"Home",data:function(){return{visits:[],isLoading:!0,pageIsLoading:!1,alertType:"",alertText:"",alertCountdown:0,showDismissibleAlert:!1,currentID:null,currentStatus:null,delModal:!1,currentPage:1,total:null,from:1,lang:null,langIsEng:null,statusDicAr:{"منتظر":"منتظر","مع الطبيب":"مع الطبيب","جاهز للدفع":"جاهز للدفع","انتهت الزيارة":"انتهت الزيارة"},statusDicEn:{"منتظر":"Waiting","مع الطبيب":"With doctor","جاهز للدفع":"Ready to pay","انتهت الزيارة":"Finished"},selectedDate:"",selectedVisitStatus:null,visitsStatusAr:[{text:"عرض الكل",value:null},{text:"منتظر",value:"منتظر"},{text:"مع الطبيب",value:"مع الطبيب"},{text:"جاهز للدفع",value:"جاهز للدفع"},{text:"انتهت الزيارة",value:"انتهت الزيارة"}],visitsStatusEn:[{text:"Show all",value:null},{text:"Waiting",value:"منتظر"},{text:"With doctor",value:"مع الطبيب"},{text:"Ready to pay",value:"جاهز للدفع"},{text:"Finished",value:"انتهت الزيارة"}],selectedDoctor:null,selectedPhone:null,doctors:[],doctorsDic:{},confirmUpdate:!1,selectedVisit:{},currentCost:null,disbleModalButton:!1}},watch:{currentPage:{handler:function(t){this.loadData(t)}},currentCost:function(){this.currentCost>this.selectedVisit.total_cost||this.currentCost<=0?this.disbleModalButton=!0:this.disbleModalButton=!1}},methods:{goToRoute:function(t){this.$router.push({name:t})},getDoctors:function(){var t=this;this.pageIsLoading=!0,this.isLoading=!0,this.doctors=[],this.doctorsDic={};var e=function(e){var a="";a=t.langIsEng?"All doctors":"كل الاطباء",t.doctors.push({text:a,value:null});var i=e.data.data;i.forEach((function(e){e.text=e.name,e.value=e.id,t.doctorsDic[e.id]=e,t.doctors.push(e)})),t.loadData()},a=function(){t.isLoading=!1,t.pageIsLoading=!1,t.alertType="danger",t.alertText="حدث خطأ ما ، حاول قريبًا",t.alertCountdown="3"};pe("get","/nurse/doctors",!0,null,e,a)},loadData:function(){var t=this;this.pageIsLoading=!0,this.isLoading=!0;var e="";null!=this.selectedVisitStatus&&(e="&status="+this.selectedVisitStatus);var a="";null!=this.selectedDoctor&&(a="&doctor_id="+this.selectedDoctor);var i="";null!=this.selectedPhone&&(i="&phone="+this.selectedPhone);var s="";null!=this.selectedDate&&""!=this.selectedDate&&(s="&date="+this.selectedDate),this.visits=[];var n=function(e){t.visits=e.data.data,t.total=e.data.total,t.from=e.data.from,t.isLoading=!1,t.pageIsLoading=!1},o=function(){t.isLoading=!1,t.pageIsLoading=!1,t.alertType="danger",t.alertText="حدث خطأ ما ، حاول قريبًا",t.alertCountdown="3"};pe("get","/nurse/visits?"+e+i+a+s,!0,null,n,o)},openDeleteItem:function(t){t&&(this.delModal=!0,this.currentID=t)},confirmupdateVisit:function(t,e,a){this.selectedVisit=t,this.currentID=e,this.currentStatus=a,this.currentCost=null,this.confirmUpdate=!0},updateVisitStatus:function(){var t=this,e={status:this.currentStatus};"انتهت الزيارة"==this.currentStatus&&(e["paid"]=this.currentCost),this.confirmUpdate=!1,this.pageIsLoading=!0,this.isLoading=!0;var a=function(){t.alertType="success",t.alertText=t.langIsEng?"Patient go to doctor.":"تم تحديث الزيارة -."+t.currentStatus,t.alertCountdown="3",t.loadData()},i=function(){t.isLoading=!1,t.alertType="danger",t.alertText=t.langIsEng?"Wrong .. try soon !":"حدث خطأ ما ، حاول قريبًا",t.alertCountdown="3"};pe("put","/nurse/visits/"+this.currentID,!0,e,a,i)},deleteItem:function(){var t=this;if(this.pageIsLoading=!0,this.delModal=!1,this.isLoading=!0,this.currentID){this.isLoading=!0;var e=function(){t.alertType="success",t.alertText=t.langIsEng?"Visit removed successfully.":"تم حذف الزيارة.",t.alertCountdown="3",t.loadData()},a=function(){t.isLoading=!1,t.alertType="danger",t.alertText=t.langIsEng?"Wrong .. try soon !":"حدث خطأ ما ، حاول قريبًا",t.alertCountdown="3"};pe("delete","/nurse/visits/"+this.currentID,!0,null,e,a)}},countDownChanged:function(t){this.alertCountdown=t},goToEditRoute:function(t,e){t&&this.$router.push({name:"UpdateVisit",params:{id:t,name:e}})}},created:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();this.selectedDate=e+"-"+a+"-"+i,this.getDoctors(this.currentPage),this.lang=v.getters.getlang,this.langIsEng="en"==v.getters.getlang}}),U=j,B=(a("69d3"),Object(L["a"])(U,V,z,!1,null,"1b468baf",null)),G=B.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:" pageContent"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),a("div",{staticClass:"page-header"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3 col-sm-12 col-xs-12 fiter-col"},[a("label",[t._v(t._s(t.langIsEng?"Phone":"المحمول"))]),a("b-form-input",{attrs:{placeholder:t.langIsEng?"Phone number":"رقم المحمول"},on:{change:t.loadData},model:{value:t.selectedPhone,callback:function(e){t.selectedPhone=e},expression:"selectedPhone"}})],1),a("div",{staticClass:"col-md-3 col-sm-12 col-xs-12 fiter-col"},[a("label",[t._v(t._s(t.langIsEng?"Visit status":"حالة الزيارة"))]),a("b-form-select",{staticClass:"grade-selectOption",attrs:{options:t.langIsEng?t.visitsStatusEn:t.visitsStatusAr},on:{change:t.loadData},model:{value:t.selectedVisitStatus,callback:function(e){t.selectedVisitStatus=e},expression:"selectedVisitStatus"}})],1),a("div",{staticClass:"col-md-3 col-sm-12 col-xs-12 fiter-col"},[a("label",{attrs:{for:"example-datepicker"}},[t._v(t._s(t.langIsEng?"Date":"التاريخ"))]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"example-datepicker",placeholder:t.langIsEng?"Data":"التاريخ","today-button":"","reset-button":"","close-button":""},on:{input:t.loadData},model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}})],1),a("div",{staticClass:"col-md-3 col-sm-12 col-xs-12 fiter-col"},[a("br"),a("b-button",{staticClass:"btn btn-primary options-table-btn del-options-table-btn mt-3",staticStyle:{float:"right"},attrs:{type:"button","data-toggle":"modal","data-target":"#delAdmin"},on:{click:function(e){return t.loadData(t.currentPage)}}},[a("i",{staticClass:"fa fa-refresh"})])],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.pageIsLoading,expression:"pageIsLoading"}],staticClass:"text-center text-danger"},[a("b-spinner",{staticClass:"align-middle"})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.pageIsLoading,expression:"!pageIsLoading"}],staticClass:"row mt-3"},[a("div",{staticClass:"col-md-12"},[a("div",{},[a("div",{},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered table-hover"},[a("thead",[a("tr",[t._m(0),a("th",[a("div",{staticClass:"tbl-data"},[t._v(t._s(t.langIsEng?"Name":"الاسم"))])]),a("th",[a("span",{staticClass:"tbl-data"},[t._v(t._s(t.langIsEng?"Phone":"المحمول"))])]),a("th",[a("span",{staticClass:"tbl-data"},[t._v(t._s(t.langIsEng?"Date and time":"التاريخ والوقت"))])]),a("th",{staticStyle:{"z-index":"1"}},[a("span",{staticClass:"tbl-data"},[t._v(t._s(t.langIsEng?"Statue":"الحالة"))])]),t._m(1)])]),a("tbody",[0==t.visits.length&&t.isLoading?a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"7"}},[a("div",{staticClass:"text-center >text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1)])]):t._e(),0!=t.visits.length||t.isLoading?t._e():a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"8"}},[t._v(" "+t._s(t.langIsEng?"No data.":"لا يوجد معلومات")+" ")])]),t._l(t.visits,(function(e,i){return a("tr",{key:i},[a("td",[t._v(" "+t._s(++i)+" ")]),a("td",[a("div",{staticClass:"tbl-data"},[t._v(t._s(e.patient?e.patient.name:""))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.patient?e.patient.phone:""))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.date+" - "+e.time))])]),a("td",[a("span",{staticClass:"tbl-data"},[a("b-badge",{attrs:{variant:"منتظر"==e.status?"warning":"مع الطبيب"==e.status?"primary":"جاهز للدفع"==e.status?"danger":"info"}},[t._v(t._s(t.langIsEng?t.statusDicEn[e.status]:t.statusDicAr[e.status]))])],1)]),a("td",{staticClass:"td-option"},[a("div",{staticClass:"form-group row-option"},["مع الطبيب"==e.status?a("b-button",{staticClass:"btn btn-success options-table-btn edit-options-table-btn",attrs:{type:"button",size:"lg"},on:{click:function(a){return t.goToVisit(e)}}},[t._v(t._s(t.langIsEng?"Visit":"الزيارة"))]):t._e(),a("b-button",{staticClass:"btn btn-primary options-table-btn edit-options-table-btn",attrs:{type:"button",size:"lg"},on:{click:function(a){return t.goToProfile(e)}}},[t._v(t._s(t.langIsEng?"Show profile":"رؤية الاسنان"))])],1)])])}))],2)])]),a("b-pagination",{attrs:{"total-rows":t.total,"per-page":10,align:"center",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])]),a("b-modal",{attrs:{centered:"",title:"تعديل الزيارة"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left mr-1",attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.updateVisitStatus()}}},[t._v(" موافق ")]),a("b-button",{staticClass:"float-left",attrs:{variant:"secondary",size:"sm"},on:{click:function(e){t.confirmUpdate=!1}}},[t._v(" الغاء ")])],1)]},proxy:!0}]),model:{value:t.confirmUpdate,callback:function(e){t.confirmUpdate=e},expression:"confirmUpdate"}},[a("p",{staticClass:"my-4"},[t._v(t._s(t.langIsEng?"Are you sure?":' موافق على تعديل الزيارة الى "'+t.currentStatus+'" ؟'))])])],1)},W=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{attrs:{width:"5%"}},[a("span",{staticClass:"tbl-data"},[t._v("#")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticStyle:{"z-index":"1"}},[a("span",{staticClass:"tbl-data"})])}],Y={name:"Home",data:function(){return{visits:[],isLoading:!0,pageIsLoading:!1,alertType:"",alertText:"",alertCountdown:0,showDismissibleAlert:!1,currentID:null,currentStatus:null,delModal:!1,currentPage:1,total:null,from:1,lang:null,langIsEng:null,statusDicAr:{"منتظر":"منتظر","مع الطبيب":"مع الطبيب","جاهز للدفع":"جاهز للدفع","انتهت الزياره":"انتهت الزيارة"},statusDicEn:{"منتظر":"Waiting","مع الطبيب":"With doctor","جاهز للدفع":"Ready to pay","انتهت الزيارة":"Finished"},selectedDate:"",selectedVisitStatus:"مع الطبيب",visitsStatusAr:[{text:"عرض الكل",value:null},{text:"منتظر",value:"منتظر"},{text:"مع الطبيب",value:"مع الطبيب"},{text:"جاهز للدفع",value:"جاهز للدفع"},{text:"انتهت الزيارة",value:"انتهت الزيارة"}],visitsStatusEn:[{text:"Show all",value:null},{text:"Waiting",value:"منتظر"},{text:"With doctor",value:"مع الطبيب"},{text:"Ready to pay",value:"جاهز للدفع"},{text:"Finished",value:"انتهت الزيارة"}],selectedPhone:null,confirmUpdate:!1}},watch:{currentPage:{handler:function(t){this.loadData(t)}}},methods:{goToProfile:function(t){this.$router.push({name:"patientProfile",params:{id:t.patient_id}})},goToVisit:function(t){this.$router.push({name:"patientVisit",params:{id:t.id,patientId:t.patient_id}})},goToRoute:function(t){this.$router.push({name:t})},loadData:function(){var t=this;this.pageIsLoading=!0,this.isLoading=!0;var e="";null!=this.selectedVisitStatus&&(e="&status="+this.selectedVisitStatus);var a="";null!=this.selectedDoctor&&(a="&doctor_id="+this.selectedDoctor);var i="";null!=this.selectedPhone&&(i="&phone="+this.selectedPhone);var s="";null!=this.selectedDate&&""!=this.selectedDate&&(s="&date="+this.selectedDate),this.visits=[];var n=function(e){t.visits=e.data.data,t.total=e.data.total,t.from=e.data.from,t.isLoading=!1,t.pageIsLoading=!1},o=function(){t.isLoading=!1,t.pageIsLoading=!1,t.alertType="danger",t.alertText="حدث خطأ ما ، حاول قريبًا",t.alertCountdown="3"};pe("get","/doctor/visits?"+e+i+a+s,!0,null,n,o)},confirmupdateVisit:function(t,e){this.currentID=t,this.currentStatus=e,this.confirmUpdate=!0},updateVisitStatus:function(){var t=this;this.confirmUpdate=!1,this.pageIsLoading=!0,this.isLoading=!0;var e=function(){t.alertType="success",t.alertText=t.langIsEng?"Patient go to doctor.":"تم تحديث الزيارة - للذهاب للطبيب.",t.alertCountdown="3",t.loadData()},a=function(){t.isLoading=!1,t.alertType="danger",t.alertText=t.langIsEng?"Wrong .. try soon !":"حدث خطأ ما ، حاول قريبًا",t.alertCountdown="3"};pe("put","/doctor/visits/"+this.currentID,!0,{status:this.currentStatus},e,a)},countDownChanged:function(t){this.alertCountdown=t}},created:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();this.selectedDate=e+"-"+a+"-"+i,this.loadData(this.currentPage),this.lang=v.getters.getlang,this.langIsEng="en"==v.getters.getlang}},K=Y,J=(a("76a1"),Object(L["a"])(K,H,W,!1,null,"396d88b9",null)),Z=J.exports,Q={name:"Home",data:function(){return{isDoctor:null}},components:{visits:G,doctorVisits:Z},methods:{},created:function(){"doctor"==v.getters.getRole?this.isDoctor=!0:"nurse"==v.getters.getRole&&(this.isDoctor=!1)}},X=Q,tt=(a("a239"),Object(L["a"])(X,N,R,!1,null,"6e709ae7",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notFound"},[a("h1",[t._v("404")]),a("p",[t._v("الصفحة غير موجودة !")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.goToHome()}}},[t._v("العودة للصفحة الرئيسية")])],1)},it=[],st={methods:{goToHome:function(){this.$router.push({name:"home"})}}},nt=st,ot=(a("354d"),Object(L["a"])(nt,at,it,!1,null,"3bcb9c2c",null)),rt=ot.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout users"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),a("div",{staticClass:"page-header"},[a("h3",[a("b",[t._v(t._s(t.langIsEng?"Edit profile":"تعديل الحساب"))])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1),a("b-form",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[a("b-container",{staticClass:"bv-example-row"},[a("b-row",[a("b-col",{attrs:{lg:"7",md:"12"}},[a("b-form-group",{attrs:{id:"group-profile-edit-name",label:t.langIsEng?"Name":"الاسم","label-for":"profile-edit-name"}},[a("b-form-input",{attrs:{id:"profile-edit-name",name:"profile-edit-name",state:t.validateState("name"),"aria-describedby":"input-edit-name"},model:{value:t.$v.form.name.$model,callback:function(e){t.$set(t.$v.form.name,"$model",e)},expression:"$v.form.name.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-edit-name"}},[t._v(" "+t._s(t.langIsEng?"Name is required.":"الاسم مطلوب")+" ")])],1)],1),a("b-col",{attrs:{lg:"7",md:"12"}},[a("b-form-group",{attrs:{id:"group-profile-edit-user_name",label:t.langIsEng?"Username - used to login":"اسم المستخدم - اسنخدمه في تسجيل الدخول","label-for":"profile-edit-user_name"}},[a("b-form-input",{attrs:{id:"profile-edit-user_name",name:"profile-edit-user_name",state:t.validateState("user_name"),"aria-describedby":"input-edit-user_name"},model:{value:t.$v.form.user_name.$model,callback:function(e){t.$set(t.$v.form.user_name,"$model",e)},expression:"$v.form.user_name.$model"}}),t.$v.form.user_name.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-user_name"}},[t._v(" "+t._s(t.langIsEng?"Username is required.":"اسم المستخدم مطلوب")+" ")])],1)],1),a("b-col",{attrs:{lg:"7",md:"12"}},[a("b-form-group",{attrs:{id:"group-profile-edit-password",label:t.langIsEng?"Password - used to login":"كلمة المرور - استخدمها في تسجيل الدخول","label-for":"profile-edit-password"}},[a("b-form-input",{attrs:{id:"profile-edit-password",name:"profile-edit-password",state:t.validateState("password"),"aria-describedby":"input-edit-password",type:"password"},model:{value:t.$v.form.password.$model,callback:function(e){t.$set(t.$v.form.password,"$model",e)},expression:"$v.form.password.$model"}}),t.$v.form.password.minLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-password"}},[t._v(" "+t._s(t.langIsEng?"Name is required.":"")+" ")])],1)],1)],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v(" "+t._s(t.langIsEng?"Update":"تعديل")+" ")])],1)],1)],1)},dt=[],ct={mixins:[$["validationMixin"]],data:function(){return{alertCountdown:0,alertType:"",alertText:"",form:{name:null,user_name:null,password:null},adminMail:null,langIsEng:null}},validations:{form:{name:{required:E["required"]},user_name:{required:E["required"]},password:{}}},methods:{validateState:function(t){var e=this.$v.form[t],a=e.$dirty,i=e.$error;return a?!i:null},countDownChanged:function(t){this.alertCountdown=t},onSubmit:function(){this.$v.form.$touch(),this.$v.form.$anyError||(this.isLoading=!0,this.saveAdminData())},saveAdminData:function(){var t=this;this.isLoading=!0,null==this.form.password&&delete this.form.password;var e=function(){t.isLoading=!1,t.alertType="success",t.alertText="تم تعديل الحساب بنجاح",t.alertCountdown="3",t.loadData()},a=function(){t.isLoading=!1,t.alertType="danger",t.alertText="حدث خطأ ما ، حاول قريبًا",t.alertCountdown="3"};pe("put","/"+this.$store.getters.getRole+"/update-profile",!0,this.form,e,a)},loadData:function(){var t=this;this.isLoading=!0;var e=function(e){t.form=e.data.data,delete t.form.password,t.form.user_name,t.isLoading=!1},a=function(){t.isLoading=!1,t.alertType="danger",t.alertText="حدث خطأ ما ، حاول قريبًا",t.alertCountdown="3"};pe("get","/"+this.$store.getters.getRole+"/"+("doctor"==this.$store.getters.getRole?"show-":"")+"profile",!0,null,e,a)}},created:function(){this.langIsEng="en"==this.$store.getters.getlang,console.log(this.langIsEng),this.isLoading=!0,this.loadData()}},ut=ct,mt=Object(L["a"])(ut,lt,dt,!1,null,null,null),gt=mt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout users"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.pageIsLoading,expression:"pageIsLoading"}],staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1),a("b-form",{directives:[{name:"show",rawName:"v-show",value:!t.pageIsLoading,expression:"!pageIsLoading"}],on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"form-section"},[a("div",{staticClass:"section-header"},[a("h4",[a("b",[t._v(t._s(t.langIsEng?"Personal information":"بيانات شخصية"))])])]),a("b-row",[a("b-col",{attrs:{lg:"4",md:"12"}},[a("b-form-group",{attrs:{label:t.langIsEng?"Phone":"رقم المحمول"}},[a("b-form-input",{attrs:{id:"visit-add-phone",name:"visit-add-phone",debounce:"500"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.phoneCheck(e)}},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t.phoneError?a("div",{staticStyle:{color:"#dc3545","margin-top":".25rem","font-size":"80%"}},[t._v(" "+t._s(t.langIsEng?"Phone length is 11 number":"رقم المحمول مكون من 11 رقم")+" ")]):t._e()],1)],1),"notExisted"==t.phoneIsRight?a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-badge",{attrs:{variant:"danger"}},[t._v(t._s(t.langIsEng?"Patient wasn't existed, need to add new account.":"المريض غير موجود, تحتاج لاضافة حساب جديد."))]),a("br"),a("br"),a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.goToRoute("addPatient")}}},[t._v(t._s(t.langIsEng?"Add New Patient":"اضافة حساب للمريض"))])],1):t._e(),1==t.phoneIsRight?a("b-col",{attrs:{lg:"12",md:"12"}},[a("div",{staticClass:"mt-2"}),a("label",[t._v("اختر اسم المريض")]),a("b-form-group",[t._l(t.accounts,(function(e){return a("b-form-radio",{key:e.id,attrs:{value:e.id},model:{value:t.$v.existPatientForm.patient_id.$model,callback:function(e){t.$set(t.$v.existPatientForm.patient_id,"$model",e)},expression:"$v.existPatientForm.patient_id.$model"}},[t._v(" "+t._s(e.name+", "+e.age+" سنه")+" ")])})),null==t.existPatientForm.patient_id?a("div",{staticStyle:{color:"#dc3545","margin-top":".25rem","font-size":"80%"}},[t._v(" "+t._s(t.langIsEng?"Patient name is required.":"اسم المريض مطلوب")+" ")]):t._e()],2),a("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.goToRoute("addPatient")}}},[t._v(t._s(t.langIsEng?"Add new patient with same phone":"اضافة حساب بنفس رقم الهاتف"))])],1):t._e()],1)],1),1==t.phoneIsRight?a("div",{staticClass:"form-section"},[a("div",{staticClass:"section-header"},[a("h4",[a("b",[t._v(t._s(t.langIsEng?"Visit information":"الحجز"))])])]),a("b-row",[1==t.phoneIsRight?a("b-col",{attrs:{lg:"4",md:"12"}},[a("b-form-group",{attrs:{id:"group-visit-add-doctor",label:t.langIsEng?"Doctor":"الطبيب","label-for":"visit-add-doctor"}},[a("b-form-select",{attrs:{id:"visit-add-doctor",name:"visit-add-doctor",options:t.doctors,state:t.validateExistPatientState("doctor"),"aria-describedby":"input-add-doctor"},model:{value:t.$v.existPatientForm.doctor.$model,callback:function(e){t.$set(t.$v.existPatientForm.doctor,"$model",e)},expression:"$v.existPatientForm.doctor.$model"}}),t.$v.existPatientForm.doctor.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-doctor"}},[t._v(" "+t._s(t.langIsEng?"Doctor is required.":"اختر الطبيب")+" ")])],1)],1):t._e(),a("b-col",{attrs:{lg:"4",md:"12"}},[a("label",{attrs:{for:"example-datepicker"}},[t._v(t._s(t.langIsEng?"Visit date":"تاريخ الحجز"))]),a("b-form-datepicker",{staticClass:"date-textbox",attrs:{id:"visit-add-date",name:"visit-add-date",state:t.validateExistPatientState("date"),"aria-describedby":"input-add-date","today-button":"","reset-button":"","close-button":""},model:{value:t.$v.existPatientForm.date.$model,callback:function(e){t.$set(t.$v.existPatientForm.date,"$model",e)},expression:"$v.existPatientForm.date.$model"}}),t.$v.existPatientForm.date.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-date"}},[t._v(" "+t._s(t.langIsEng?"Date is required.":"اختر تاريخ الحجز")+" ")])],1),a("b-col",{attrs:{lg:"4",md:"12"}},[a("label",{attrs:{for:"example-datepicker"}},[t._v(t._s(t.langIsEng?"Visit time":"وقت الحجز"))]),a("b-form-timepicker",{staticClass:"time-textbox",attrs:{id:"visit-add-time",name:"visit-add-time",state:t.validateExistPatientState("time"),"aria-describedby":"input-add-time"},model:{value:t.$v.existPatientForm.time.$model,callback:function(e){t.$set(t.$v.existPatientForm.time,"$model",e)},expression:"$v.existPatientForm.time.$model"}}),t.$v.existPatientForm.time.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-time"}},[t._v(" "+t._s(t.langIsEng?"Time is required.":"اختر وقت الحجز")+" ")])],1)],1),a("div",[a("b-button",{attrs:{type:"submit",variant:"success"}},[t._v(t._s(t.langIsEng?"Add New Visit":"اضافة زيارة"))])],1)],1):t._e()])],1)},pt=[],ft={mixins:[$["validationMixin"]],data:function(){return{pageIsLoading:!1,alertCountdown:0,alertType:"",alertText:"",doctors:[],doctor:[],accounts:[],phone:null,existPatientForm:{doctor:null,date:null,time:null,patient_id:null},phoneIsRight:!1,selectedPatient:null,phoneError:!1}},validations:{existPatientForm:{patient_id:{required:E["required"]},doctor:{required:E["required"]},date:{required:E["required"]},time:{required:E["required"]}}},methods:{phoneCheck:function(){null!=this.phone&&11==this.phone.length?(this.phoneError=!1,this.pageIsLoading=!0,this.getAccounts()):this.phoneError=!0},validateExistPatientState:function(t){var e=this.$v.existPatientForm[t],a=e.$dirty,i=e.$error;return a?!i:null},countDownChanged:function(t){this.alertCountdown=t},resetForm:function(){var t=this;this.existPatientForm={patient_id:null,doctor:null,date:null,time:null},this.$nextTick((function(){t.$v.$reset()}))},onSubmit:function(){this.$v.existPatientForm.$touch(),this.$v.existPatientForm.$anyError||this.addVisit()},getAccounts:function(){var t=this;this.pageIsLoading=!0;var e=function(e){if(t.accounts=e.data.data,t.accounts.length>0){1==t.accounts.length&&(t.existPatientForm.patient_id=t.accounts[0].id),t.alertType="success",t.alertText=t.langIsEng?"Existed patient":"المريض موجود ",t.alertCountdown="3",t.phoneIsRight=!0,t.pageIsLoading=!1;var a=new Date,i=a.getFullYear(),s=a.getMonth()+1,n=a.getDate();t.existPatientForm.date=i+"-"+s+"-"+n;var o=a.getHours(),r=a.getMinutes(),l=a.getSeconds();t.existPatientForm.time=o+":"+r+":"+l}else t.alertType="warning",t.alertText=t.langIsEng?"Not existed":"المريض غير موجود ",t.alertCountdown="3",t.phoneIsRight="notExisted",t.pageIsLoading=!1},a=function(){t.pageIsLoading=!1,t.alertType="danger",t.alertText="حدث خطأ ما ، حاول قريبًا",t.alertCountdown="3"};pe("get","/nurse/patients?phone="+this.phone,!0,null,e,a)},addVisit:function(){var t=this;this.pageIsLoading=!0,this.existPatientForm.doctor_id=this.existPatientForm.doctor,this.existPatientForm.nurse_id=1;var e=function(){t.pageIsLoading=!1,t.phoneIsRight=!1,t.alertType="success",t.alertText=t.langIsEng?"Visit added successfuly.":"تم اضافة الزيارة بنجاح ",t.alertCountdown="3",t.resetForm()},a=function(e){var a="حدث خطأ ما ، حاول قريبًا";t.pageIsLoading=!1,t.alertType="danger",t.alertText=a,t.alertCountdown="3"};pe("post","/nurse/visits",!1,this.existPatientForm,e,a)},getDoctors:function(){var t=this;this.pageIsLoading=!0,this.doctors=[];var e=function(e){var a=e.data.data;a.forEach((function(e){e.text=(t.langIsEng?"Dr/ ":"د/ ")+e.name,e.value=e.id,t.doctors.push(e)})),t.pageIsLoading=!1},a=function(){t.pageIsLoading=!1,t.alertType="danger",t.alertText="حدث خطأ ما ، حاول قريبًا",t.alertCountdown="3"};pe("get","/nurse/doctors",!0,null,e,a)},goToRoute:function(t){var e="";11==this.phone.length&&(e={phone:this.phone}),this.$router.push({name:t,query:e})}},created:function(){this.lang=v.getters.getlang,this.langIsEng="en"==v.getters.getlang,this.doctor=this.langIsEng?this.accountStatusEn:this.accountStatusAr,this.getDoctors()}},bt=ft,vt=Object(L["a"])(bt,ht,pt,!1,null,null,null),_t=vt.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout users"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.pageIsLoading,expression:"pageIsLoading"}],staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1),a("b-form",{directives:[{name:"show",rawName:"v-show",value:!t.pageIsLoading,expression:"!pageIsLoading"}],on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"form-section"},[a("div",{staticClass:"section-header"},[a("h4",[a("b",[t._v(t._s(t.langIsEng?"Visit information":"الحجز ب اسم "+this.$route.params.name))])])]),a("b-row",[a("b-col",{attrs:{lg:"4",md:"12"}},[a("b-form-group",{attrs:{id:"group-visit-add-doctor",label:t.langIsEng?"Doctor":"الطبيب","label-for":"visit-add-doctor"}},[a("b-form-select",{attrs:{id:"visit-add-doctor",name:"visit-add-doctor",options:t.doctors,state:t.validateExistPatientState("doctor"),"aria-describedby":"input-add-doctor"},model:{value:t.$v.existPatientForm.doctor.$model,callback:function(e){t.$set(t.$v.existPatientForm.doctor,"$model",e)},expression:"$v.existPatientForm.doctor.$model"}}),t.$v.existPatientForm.doctor.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-doctor"}},[t._v(" "+t._s(t.langIsEng?"Doctor is required.":"اختر الطبيب")+" ")])],1)],1),a("b-col",{attrs:{lg:"4",md:"12"}},[a("label",{attrs:{for:"example-datepicker"}},[t._v(t._s(t.langIsEng?"Visit date":"تاريخ الحجز"))]),a("b-form-datepicker",{staticClass:"date-textbox",attrs:{id:"visit-add-date",name:"visit-add-date",state:t.validateExistPatientState("date"),"aria-describedby":"input-add-date","today-button":"","reset-button":"","close-button":""},model:{value:t.$v.existPatientForm.date.$model,callback:function(e){t.$set(t.$v.existPatientForm.date,"$model",e)},expression:"$v.existPatientForm.date.$model"}}),t.$v.existPatientForm.date.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-date"}},[t._v(" "+t._s(t.langIsEng?"Date is required.":"اختر تاريخ الحجز")+" ")])],1),a("b-col",{attrs:{lg:"4",md:"12"}},[a("label",{attrs:{for:"example-datepicker"}},[t._v(t._s(t.langIsEng?"Visit time":"وقت الحجز"))]),a("b-form-timepicker",{staticClass:"time-textbox",attrs:{id:"visit-add-time",name:"visit-add-time",state:t.validateExistPatientState("time"),"aria-describedby":"input-add-time"},model:{value:t.$v.existPatientForm.time.$model,callback:function(e){t.$set(t.$v.existPatientForm.time,"$model",e)},expression:"$v.existPatientForm.time.$model"}}),t.$v.existPatientForm.time.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-add-time"}},[t._v(" "+t._s(t.langIsEng?"Time is required.":"اختر وقت الحجز")+" ")])],1)],1),a("div",[a("b-button",{attrs:{type:"submit",variant:"success"}},[t._v(t._s(t.langIsEng?"Save Visit":"تعديل"))])],1)],1)])],1)},xt=[],Ct={mixins:[$["validationMixin"]],data:function(){return{pageIsLoading:!1,alertCountdown:0,alertType:"",alertText:"",doctors:[],doctorsDic:{},doctor:[],accounts:[],phone:null,existPatientForm:{doctor:null,date:null,time:null,patient_id:null},selectedPatient:null}},validations:{existPatientForm:{patient_id:{required:E["required"]},doctor:{required:E["required"]},date:{required:E["required"]},time:{required:E["required"]}}},methods:{validateExistPatientState:function(t){var e=this.$v.existPatientForm[t],a=e.$dirty,i=e.$error;return a?!i:null},countDownChanged:function(t){this.alertCountdown=t},resetForm:function(){var t=this;this.existPatientForm={patient_id:null,doctor:null,date:null,time:null},this.$nextTick((function(){t.$v.$reset()}))},onSubmit:function(){this.$v.existPatientForm.$touch(),this.$v.existPatientForm.$anyError||this.updateVisit()},updateVisit:function(){var t=this;this.pageIsLoading=!0;var e=function(){t.pageIsLoading=!1,t.alertType="success",t.alertText=t.langIsEng?"Visit added successfuly.":"تم تعديل الزيارة بنجاح ",t.alertCountdown="3",t.resetForm()},a=function(e){var a="حدث خطأ ما ، حاول قريبًا";t.pageIsLoading=!1,t.alertType="danger",t.alertText=a,t.alertCountdown="3"};pe("put","/nurse/visits/"+this.$route.params.id,!1,this.existPatientForm,e,a)},getVisit:function(t){var e=this;this.pageIsLoading=!0;var a=function(t){e.pageIsLoading=!1,e.existPatientForm=t.data.data,e.existPatientForm.doctor={value:t.data.data.doctor_id,text:e.doctorsDic[t.data.data.doctor_id]}},i=function(){e.pageIsLoading=!1,e.alertType="danger",e.alertText="حدث خطأ ما ، حاول قريبًا",e.alertCountdown="3"};pe("get","/nurse/visits/"+t,!0,null,a,i)},getDoctors:function(){var t=this;this.pageIsLoading=!0,this.doctors=[],this.doctorsDic={};var e=function(e){var a=e.data.data;a.forEach((function(e){e.text=(t.langIsEng?"Dr/ ":"د/ ")+e.name,e.value=e.id,t.doctorsDic[e.id]=e.text,t.doctors.push(e)})),t.getVisit(t.$route.params.id)},a=function(){t.pageIsLoading=!1,t.alertType="danger",t.alertText="حدث خطأ ما ، حاول قريبًا",t.alertCountdown="3"};pe("get","/nurse/doctors",!0,null,e,a)}},created:function(){this.lang=v.getters.getlang,this.langIsEng="en"==v.getters.getlang,this.doctor=this.langIsEng?this.accountStatusEn:this.accountStatusAr,this.$route.params.id&&this.getDoctors(this.$route.params.id)}},Dt=Ct,It=Object(L["a"])(Dt,yt,xt,!1,null,null,null),wt=It.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout users"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),a("div",{staticClass:"page-header"},[a("h3",[a("b",[t._v(t._s(t.langIsEng?"Patients":"المرضى"))])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.pageIsLoading,expression:"pageIsLoading"}],staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.pageIsLoading,expression:"!pageIsLoading"}],staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{},[a("div",{},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered table-hover"},[a("thead",[a("tr",[t._m(0),a("th",[a("div",{staticClass:"tbl-data"},[t._v(t._s(t.langIsEng?"Name":"الاسم"))])]),a("th",[a("span",{staticClass:"tbl-data"},[t._v(t._s(t.langIsEng?"Phone":"المحمول"))])]),a("th",[a("span",{staticClass:"tbl-data"},[t._v(t._s(t.langIsEng?"National ID":"رقم البطاقة"))])]),a("th",{staticStyle:{"z-index":"1"}},[a("span",{staticClass:"tbl-data"},[t._v(t._s(t.langIsEng?"Age":"العمر"))])]),a("th",{staticClass:"td-option",staticStyle:{"z-index":"1"},attrs:{width:"10%"}},[a("span",{attrs:{clas:"tbl-data"}},[a("b-button",{staticClass:"btn btn-success add-admin-btn options-table-btn",attrs:{size:"sm","data-toggle":"modal","data-target":"#addAdmin"},on:{click:function(e){return t.goToRoute("addPatient")}}},[a("i",{staticClass:"fa fa-plus ",class:{"ml-2":!t.langIsEng,"mr-2":t.langIsEng}}),t._v(" "+t._s(t.langIsEng?"Add":"إضافة")+" ")])],1)])])]),a("tbody",[0==t.users.length&&t.isLoading?a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"7"}},[a("div",{staticClass:"text-center >text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1)])]):t._e(),0!=t.users.length||t.isLoading?t._e():a("tr",{staticClass:"no-data-row"},[a("td",{attrs:{colspan:"7"}},[t._v(" لا يوجد معلومات ")])]),t._l(t.users,(function(e,i){return a("tr",{key:i},[a("td",[t._v(" "+t._s(++i)+" ")]),a("td",[a("div",{staticClass:"tbl-data"},[t._v(t._s(e.name))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.phone))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.national_id))])]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.age))])]),a("td",{staticClass:"td-option"},[a("div",{staticClass:"form-group row-option"},[a("b-button",{staticClass:"btn btn-primary options-table-btn edit-options-table-btn",attrs:{type:"button",size:"sm"},on:{click:function(a){return t.goToEditRoute(e.id)}}},[a("i",{staticClass:"fa fa-edit"})]),a("b-button",{staticClass:"btn btn-danger options-table-btn del-options-table-btn",attrs:{type:"button",size:"sm","data-toggle":"modal","data-target":"#delAdmin"},on:{click:function(a){return t.openDeleteItem(e.id)}}},[a("i",{staticClass:"fa fa-trash"})])],1)])])}))],2)])]),a("b-pagination",{attrs:{"total-rows":t.total,"per-page":10,align:"center",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])]),a("b-modal",{attrs:{centered:"",title:"حذف مريض"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left mr-1",attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.deleteItem()}}},[t._v(" حذف ")]),a("b-button",{staticClass:"float-left",attrs:{variant:"secondary",size:"sm"},on:{click:function(e){t.delModal=!1}}},[t._v(" الغاء ")])],1)]},proxy:!0}]),model:{value:t.delModal,callback:function(e){t.delModal=e},expression:"delModal"}},[a("p",{staticClass:"my-4"},[t._v("هل تريد حذف هذا المريض؟")])])],1)},kt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{attrs:{width:"5%"}},[a("span",{staticClass:"tbl-data"},[t._v("#")])])}],Et={name:"Home",data:function(){return{users:[],isLoading:!0,pageIsLoading:!1,alertType:"",alertText:"",alertCountdown:0,showDismissibleAlert:!1,currentID:null,delModal:!1,currentPage:1,total:null,from:1,lang:null,langIsEng:null}},watch:{currentPage:{handler:function(t){this.loadData(t)}}},methods:{goToRoute:function(t){this.$router.push({name:t})},loadData:function(t){var e=this;this.pageIsLoading=!0,this.isLoading=!0;var a=function(t){e.users=t.data.data,e.total=t.data.total,e.from=t.data.from,e.isLoading=!1,e.pageIsLoading=!1},i=function(){e.isLoading=!1,e.pageIsLoading=!1,e.alertType="danger",e.alertText="حدث خطأ ما ، حاول قريبًا",e.alertCountdown="3"};pe("get","/nurse/patients",!0,null,a,i)},openDeleteItem:function(t){t&&(this.delModal=!0,this.currentID=t)},deleteItem:function(){var t=this;if(this.pageIsLoading=!0,this.isLoading=!0,this.currentID){this.isLoading=!0;var e=function(){t.alertType="success",t.alertText="تم حذف المريض بنجاح ",t.alertCountdown="3",t.delModal=!1,t.loadData()},a=function(){t.isLoading=!1,t.alertType="danger",t.alertText="حدث خطأ ما ، حاول قريبًا",t.alertCountdown="3"};pe("delete","/nurse/patients/"+this.currentID,!0,null,e,a)}},countDownChanged:function(t){this.alertCountdown=t},goToEditRoute:function(t){t&&this.$router.push({name:"editPatient",params:{id:t}})}},created:function(){this.loadData(this.currentPage),this.lang=v.getters.getlang,this.langIsEng="en"==v.getters.getlang}},Tt=Et,St=(a("9554"),Object(L["a"])(Tt,$t,kt,!1,null,"73636ce4",null)),Lt=St.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout users"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.pageIsLoading,expression:"pageIsLoading"}],staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1),a("b-form",{directives:[{name:"show",rawName:"v-show",value:!t.pageIsLoading,expression:"!pageIsLoading"}],on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"section-header mt-2"},[a("h3",[a("b",[t._v(t._s(t.langIsEng?"Add new patient":"اضافة مريض جديد"))])])]),a("div",{staticClass:"form-section"},[a("div",{staticClass:"section-header"},[a("h4",[a("b",[t._v(t._s(t.langIsEng?"Personal information":"بيانات شخصية"))])])]),a("b-row",[a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",{attrs:{label:t.langIsEng?"Phone":"رقم المحمول"}},[a("b-form-input",{attrs:{id:"visit-add-phone",name:"visit-add-phone",state:t.validateState("phone"),"aria-describedby":"input-add-phone"},model:{value:t.$v.form.phone.$model,callback:function(e){t.$set(t.$v.form.phone,"$model",e)},expression:"$v.form.phone.$model"}}),t.$v.form.phone.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-phone"}},[t._v(" "+t._s(t.langIsEng?"Phone is required.":"رقم المحمول مطلوب")+" ")]),t.$v.form.phone.minLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"Phone is 11 number only.":"رقم المحمول يتكون من 11 رقم")+" ")]),t.$v.form.phone.maxLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"Phone is 11 number only.":"رقم المحمول يتكون من 11 رقم")+" ")]),t.$v.form.phone.numeric?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"Phone is numbers.":"رقم المحمول يتكون من ارقام فقط")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",{attrs:{id:"group-visit-add-name",label:t.langIsEng?"Patient name":"اسم المريض","label-for":"visit-add-name"}},[a("b-form-input",{attrs:{id:"visit-add-name",name:"visit-add-name",state:t.validateState("name"),"aria-describedby":"input-add-name"},model:{value:t.$v.form.name.$model,callback:function(e){t.$set(t.$v.form.name,"$model",e)},expression:"$v.form.name.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-add-name"}},[t._v(" "+t._s(t.langIsEng?"Name is required.":"الاسم مطلوب")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",{attrs:{id:"group-visit-add-national",label:t.langIsEng?"National ID":"رقم البطاقة","label-for":"visit-add-national"}},[a("b-form-input",{attrs:{id:"visit-add-national",name:"visit-add-national",type:"number",state:t.validateState("national"),"aria-describedby":"input-add-national"},model:{value:t.$v.form.national.$model,callback:function(e){t.$set(t.$v.form.national,"$model",e)},expression:"$v.form.national.$model"}}),t.$v.form.national.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"National ID is required.":"رقم البطاقة مطلوب")+" ")]),t.$v.form.national.minLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"National ID is 14 number only.":"رقم البطاقة يتكون من 14 رقم")+" ")]),t.$v.form.national.maxLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"National ID is 14 number only.":"رقم البطاقة يتكون من 14 رقم")+" ")]),t.$v.form.national.numeric?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"National ID is numbers.":"رقم البطاقة يتكون من ارقام فقط")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",{attrs:{id:"group-visit-add-age",label:t.langIsEng?"Age":"العمر","label-for":"visit-add-age"}},[a("b-form-input",{attrs:{id:"visit-add-age",name:"visit-add-age",state:t.validateState("age"),"aria-describedby":"input-add-age"},model:{value:t.$v.form.age.$model,callback:function(e){t.$set(t.$v.form.age,"$model",e)},expression:"$v.form.age.$model"}}),t.$v.form.age.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-age"}},[t._v(" "+t._s(t.langIsEng?"Age is required.":"العمر مطلوب")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",{attrs:{id:"group-visit-add-address",label:t.langIsEng?"Address":"العنوان","label-for":"visit-add-address"}},[a("b-form-input",{attrs:{id:"visit-add-address",name:"visit-add-address",state:t.validateState("address"),"aria-describedby":"input-add-address"},model:{value:t.$v.form.address.$model,callback:function(e){t.$set(t.$v.form.address,"$model",e)},expression:"$v.form.address.$model"}}),t.$v.form.address.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-address"}},[t._v(" "+t._s(t.langIsEng?"Address is required.":"العنوان مطلوب")+" ")])],1)],1)],1)],1),a("div",{staticClass:"form-section"},[a("div",{staticClass:"section-header"},[a("h4",[a("b",[t._v(t._s(t.langIsEng?"Medical information":"البيانات الطبية"))])])]),a("b-row",[a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.heartDisease,callback:function(e){t.$set(t.form,"heartDisease",e)},expression:"form.heartDisease"}},[t._v(" "+t._s(t.langIsEng?"Heart disease":"امراض القلب")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.leverInflammation,callback:function(e){t.$set(t.form,"leverInflammation",e)},expression:"form.leverInflammation"}},[t._v(" "+t._s(t.langIsEng?"Lever inflammation A/B/C":"التهاب الكبد الوبائي A/B/C")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.bloodPressure,callback:function(e){t.$set(t.form,"bloodPressure",e)},expression:"form.bloodPressure"}},[t._v(" "+t._s(t.langIsEng?"BloodPressure":"ضغط الدم")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.anemia,callback:function(e){t.$set(t.form,"anemia",e)},expression:"form.anemia"}},[t._v(" "+t._s(t.langIsEng?"Anemia":"انيميا")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.hemophilia,callback:function(e){t.$set(t.form,"hemophilia",e)},expression:"form.hemophilia"}},[t._v(" "+t._s(t.langIsEng?"Hemophilia":"هيموفيليا")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.kidneyDisease,callback:function(e){t.$set(t.form,"kidneyDisease",e)},expression:"form.kidneyDisease"}},[t._v(" "+t._s(t.langIsEng?"Kidney disease":"أمراض الكلى")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.aids,callback:function(e){t.$set(t.form,"aids",e)},expression:"form.aids"}},[t._v(" "+t._s(t.langIsEng?"AIDS":"الايدز")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.rheumaticfever,callback:function(e){t.$set(t.form,"rheumaticfever",e)},expression:"form.rheumaticfever"}},[t._v(" "+t._s(t.langIsEng?"Rheumatic fever":"حمى روماتيزميه")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.pregnancy,callback:function(e){t.$set(t.form,"pregnancy",e)},expression:"form.pregnancy"}},[t._v(" "+t._s(t.langIsEng?"Pregnancy":"الحمل")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.tb,callback:function(e){t.$set(t.form,"tb",e)},expression:"form.tb"}},[t._v(" "+t._s(t.langIsEng?"tb":"السل")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.radiationTherapy,callback:function(e){t.$set(t.form,"radiationTherapy",e)},expression:"form.radiationTherapy"}},[t._v(" "+t._s(t.langIsEng?"Radiation therapy":"علاج اشعاعي")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.respiratoryDistress,callback:function(e){t.$set(t.form,"respiratoryDistress",e)},expression:"form.respiratoryDistress"}},[t._v(" "+t._s(t.langIsEng?"Respiratory distress":"أزمه تنفسيه")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.chemotherapy,callback:function(e){t.$set(t.form,"chemotherapy",e)},expression:"form.chemotherapy"}},[t._v(" "+t._s(t.langIsEng?"Chemotherapy":"علاج كيميائي")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.diabetes,callback:function(e){t.$set(t.form,"diabetes",e)},expression:"form.diabetes"}},[t._v(" "+t._s(t.langIsEng?"Diabetes":"مرض السكر")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.arthritis,callback:function(e){t.$set(t.form,"arthritis",e)},expression:"form.arthritis"}},[t._v(" "+t._s(t.langIsEng?"Arthritis":"التهاب المفاصل")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.liquorDrugs,callback:function(e){t.$set(t.form,"liquorDrugs",e)},expression:"form.liquorDrugs"}},[t._v(" "+t._s(t.langIsEng?"Liquor drugs":"ادوية السيولة")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.thyroidDiseases,callback:function(e){t.$set(t.form,"thyroidDiseases",e)},expression:"form.thyroidDiseases"}},[t._v(" "+t._s(t.langIsEng?"Thyroid diseases":"أمراض الغده الدرقية")+" ")])],1)],1)],1),a("div",{staticClass:"mt-5"}),a("b-row",[a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.underMedicalCare,callback:function(e){t.$set(t.form,"underMedicalCare",e)},expression:"form.underMedicalCare"}},[t._v(" "+t._s(t.langIsEng?"Are you currently undergoing medical care?":"هل تخضع للرعاية الطبية حاليا؟")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.useAsprin,callback:function(e){t.$set(t.form,"useAsprin",e)},expression:"form.useAsprin"}},[t._v(" "+t._s(t.langIsEng?"Do you use aspirin regularly?":"هل تستخدم الاسبرين بصورة منتظمة؟")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{"label-for":"useAnyMedications"}},[a("b-form-checkbox",{attrs:{id:"useAnyMedications"},model:{value:t.form.useAnyMedications,callback:function(e){t.$set(t.form,"useAnyMedications",e)},expression:"form.useAnyMedications"}},[t._v(" "+t._s(t.langIsEng?"Are you using any medications for any reason at the moment?":"هل تستخدم اى ادوية لاى سبب في الوقت الحاضر؟")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{"label-for":"useAnyMedicationsDetails",label:t.langIsEng?"Write down the medications you take ...":"اكتب الادوية التى تأخذها والجرعات ..."}},[a("b-form-textarea",{attrs:{disabled:!t.form.useAnyMedications,id:"useAnyMedicationsDetails",rows:"2","max-rows":"2"},model:{value:t.form.useAnyMedicationsDetails,callback:function(e){t.$set(t.form,"useAnyMedicationsDetails",e)},expression:"form.useAnyMedicationsDetails"}})],1)],1)],1),a("div",{staticClass:"mt-5"}),a("b-row",[a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.bleeding,callback:function(e){t.$set(t.form,"bleeding",e)},expression:"form.bleeding"}},[t._v(" "+t._s(t.langIsEng?"Are you facing the problem of continuous bleeding after surgery or extraction?":"هل تواجه مشكلة النزيف المستمر بعد اجراء جراحة أو خلع؟")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.dentalAnesthetic,callback:function(e){t.$set(t.form,"dentalAnesthetic",e)},expression:"form.dentalAnesthetic"}},[t._v(" "+t._s(t.langIsEng?"Have you experienced an abnormal reaction to dental anesthetic?":"هل واجهت رد فعل غير طبيعي تجاه بنج الاسنان؟")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{"label-for":"drugSensitivity"}},[a("b-form-checkbox",{attrs:{id:"drugSensitivity"},model:{value:t.form.drugSensitivity,callback:function(e){t.$set(t.form,"drugSensitivity",e)},expression:"form.drugSensitivity"}},[t._v(" "+t._s(t.langIsEng?"Do you mean from any sensitivity to any drug or drug?":"هل تعني من أي حساسية تجاه أي دواء او عقار؟")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{"label-for":"drugSensitivityDetails",label:t.langIsEng?"Write down the medications you take ...":"اكتب الادوية التى تأخذها والجرعات ..."}},[a("b-form-textarea",{attrs:{disabled:!t.form.drugSensitivity,id:"drugSensitivityDetails",rows:"2","max-rows":"2"},model:{value:t.form.drugSensitivityDetails,callback:function(e){t.$set(t.form,"drugSensitivityDetails",e)},expression:"form.drugSensitivityDetails"}})],1)],1)],1),a("div",{staticClass:"mt-5"}),a("b-row",[a("b-col",{staticClass:"mb-2",attrs:{lg:"12",md:"12"}},[a("h5",[t._v(t._s(t.langIsEng?"Do you have these habits?":"هل لديك هذه العادات؟"))])]),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.smoking,callback:function(e){t.$set(t.form,"smoking",e)},expression:"form.smoking"}},[t._v(" "+t._s(t.langIsEng?"Smoking":"التدخين")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.clenchingTeeth,callback:function(e){t.$set(t.form,"clenchingTeeth",e)},expression:"form.clenchingTeeth"}},[t._v(" "+t._s(t.langIsEng?"Clenching hard on the teeth":"الجز بشده على الاسنان")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{"label-for":"otherInfo",label:t.langIsEng?"The latest developments in the medical situation":"اخر المستجدات في الحالة الطبية ..."}},[a("b-form-textarea",{attrs:{id:"otherInfo",rows:"2","max-rows":"2"},model:{value:t.form.otherInfo,callback:function(e){t.$set(t.form,"otherInfo",e)},expression:"form.otherInfo"}})],1)],1)],1)],1),a("div",[a("b-button",{attrs:{type:"submit",variant:"success"}},[t._v(t._s(t.langIsEng?"Add":"اضافة"))]),a("b-button",{class:t.langIsEng?"ml-2":"mr-2",on:{click:function(e){return t.resetForm()}}},[t._v(t._s(t.langIsEng?"Reset":"اعادة"))])],1)])],1)},Pt=[],Mt=(a("fb6a"),a("b64b"),a("07ac"),{mixins:[$["validationMixin"]],data:function(){return{pageIsLoading:!1,alertCountdown:0,alertType:"",alertText:"",lang:null,langIsEng:null,form:{name:null,phone:null,national:null,age:null,address:null,heartDisease:!1,leverInflammation:!1,bloodPressure:!1,anemia:!1,hemophilia:!1,kidneyDisease:!1,aids:!1,rheumaticfever:!1,pregnancy:!1,tb:!1,radiationTherapy:!1,respiratoryDistress:!1,chemotherapy:!1,diabetes:!1,arthritis:!1,liquorDrugs:!1,thyroidDiseases:!1,underMedicalCare:!1,useAsprin:!1,useAnyMedications:!1,useAnyMedicationsDetails:"",bleeding:!1,dentalAnesthetic:!1,drugSensitivity:!1,drugSensitivityDetails:"",smoking:!1,clenchingTeeth:!1,otherInfo:""},HistoryDic:{heartDisease:"heartDisease",leverInflammation:"leverInflammation",bloodPressure:"bloodPressure",anemia:"anemia",hemophilia:"hemophilia",kidneyDisease:"kidneyDisease",aids:"aids",rheumaticfever:"rheumaticfever",pregnancy:"pregnancy",tb:"tb",radiationTherapy:"radiationTherapy",respiratoryDistress:"respiratoryDistress",chemotherapy:"chemotherapy",diabetes:"diabetes",arthritis:"arthritis",liquorDrugs:"liquorDrugs",thyroidDiseases:"Thyroid diseases",underMedicalCare:"Under medical care",useAsprin:"Use asprin",useAnyMedications:"Use any medications",useAnyMedicationsDetails:"Use any medications details",bleeding:"Bleeding",dentalAnesthetic:"Dental anesthetic",drugSensitivity:"drug sensitivity",drugSensitivityDetails:"Drug sensitivity details",smoking:"Smoking",clenchingTeeth:"Clenching Teeth",otherInfo:"Other Information"}}},validations:{form:{name:{required:E["required"]},phone:{required:E["required"],numeric:E["numeric"],minLength:Object(E["minLength"])(11),maxLength:Object(E["maxLength"])(11)},national:{required:E["required"],numeric:E["numeric"],minLength:Object(E["minLength"])(14),maxLength:Object(E["maxLength"])(14)},age:{required:E["required"]},address:{required:E["required"]}}},watch:{},methods:{validateExistPatientState:function(t){var e=this.$v.form[t],a=e.$dirty,i=e.$error;return a?!i:null},validateState:function(t){var e=this.$v.form[t],a=e.$dirty,i=e.$error;return a?!i:null},countDownChanged:function(t){this.alertCountdown=t},resetForm:function(){var t=this;this.form={name:null,phone:null,national:null},this.$nextTick((function(){t.$v.$reset()}))},onSubmit:function(){this.$v.form.$touch(),this.$v.form.$anyError||this.AddPatient()},AddPatient:function(){var t=this;this.pageIsLoading=!0;var e={name:this.form.name,age:this.form.age,phone:this.form.phone,national_id:this.form.national,address:this.form.address,medical_history:""};delete this.form.name,delete this.form.age,delete this.form.phone,delete this.form.national,delete this.form.address;for(var a="",i=Object.keys(this.form),s=Object.values(this.form),n=0;n<s.length;n++)"useAnyMedicationsDetails"==i[n]&&(i[n]=this.form.useAnyMedicationsDetails),"drugSensitivityDetails"==i[n]&&(i[n]=this.form.drugSensitivityDetails),"otherInfo"==i[n]&&(i[n]=this.form.otherInfo),s[n]?(a+=i[n],a+=","):(a+="-",a+=",");a=a.slice(0,-1),e.medical_history=a;var o=function(){t.pageIsLoading=!1,t.alertType="success",t.alertText=t.langIsEng?"Patient added successfully.":"تم اضافةالمريض بنجاح ",t.alertCountdown="3",t.resetForm()},r=function(e){var a="حدث خطأ ما ، حاول قريبًا";t.pageIsLoading=!1,t.alertType="danger",t.alertText=a,t.alertCountdown="3"};pe("post","/nurse/patients",!1,e,o,r)}},created:function(){this.lang=v.getters.getlang,this.langIsEng="en"==v.getters.getlang,this.$route.query.phone&&(this.form.phone=this.$route.query.phone)}}),Ft=Mt,qt=Object(L["a"])(Ft,At,Pt,!1,null,null,null),Ot=qt.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout users"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.pageIsLoading,expression:"pageIsLoading"}],staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1),a("b-form",{directives:[{name:"show",rawName:"v-show",value:!t.pageIsLoading,expression:"!pageIsLoading"}],on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"section-header mt-2"},[a("h3",[a("b",[t._v(t._s(t.langIsEng?"Edit patient":"تعديل مريض"))])])]),a("div",{staticClass:"form-section"},[a("div",{staticClass:"section-header"},[a("h4",[a("b",[t._v(t._s(t.langIsEng?"Personal information":"بيانات شخصية"))])])]),a("b-row",[a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",{attrs:{label:t.langIsEng?"Phone":"رقم المحمول"}},[a("b-form-input",{attrs:{id:"visit-add-phone",name:"visit-add-phone",state:t.validateState("phone"),"aria-describedby":"input-add-phone"},model:{value:t.$v.form.phone.$model,callback:function(e){t.$set(t.$v.form.phone,"$model",e)},expression:"$v.form.phone.$model"}}),t.$v.form.phone.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-phone"}},[t._v(" "+t._s(t.langIsEng?"Phone is required.":"رقم المحمول مطلوب")+" ")]),t.$v.form.phone.minLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"Phone is 11 number only.":"رقم المحمول يتكون من 11 رقم")+" ")]),t.$v.form.phone.maxLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"Phone is 11 number only.":"رقم المحمول يتكون من 11 رقم")+" ")]),t.$v.form.phone.numeric?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"Phone is numbers.":"رقم المحمول يتكون من ارقام فقط")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",{attrs:{id:"group-visit-add-name",label:t.langIsEng?"Patient name":"اسم المريض","label-for":"visit-add-name"}},[a("b-form-input",{attrs:{id:"visit-add-name",name:"visit-add-name",state:t.validateState("name"),"aria-describedby":"input-add-name"},model:{value:t.$v.form.name.$model,callback:function(e){t.$set(t.$v.form.name,"$model",e)},expression:"$v.form.name.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-add-name"}},[t._v(" "+t._s(t.langIsEng?"Name is required.":"الاسم مطلوب")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",{attrs:{id:"group-visit-add-national",label:t.langIsEng?"National ID":"رقم البطاقة","label-for":"visit-add-national"}},[a("b-form-input",{attrs:{id:"visit-add-national",name:"visit-add-national",type:"number",state:t.validateState("national"),"aria-describedby":"input-add-national"},model:{value:t.$v.form.national.$model,callback:function(e){t.$set(t.$v.form.national,"$model",e)},expression:"$v.form.national.$model"}}),t.$v.form.national.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"National ID is required.":"رقم البطاقة مطلوب")+" ")]),t.$v.form.national.minLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"National ID is 14 number only.":"رقم البطاقة يتكون من 14 رقم")+" ")]),t.$v.form.national.maxLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"National ID is 14 number only.":"رقم البطاقة يتكون من 14 رقم")+" ")]),t.$v.form.national.numeric?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"National ID is numbers.":"رقم البطاقة يتكون من ارقام فقط")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",{attrs:{id:"group-visit-add-age",label:t.langIsEng?"Age":"العمر","label-for":"visit-add-age"}},[a("b-form-input",{attrs:{id:"visit-add-age",name:"visit-add-age",state:t.validateState("age"),"aria-describedby":"input-add-age"},model:{value:t.$v.form.age.$model,callback:function(e){t.$set(t.$v.form.age,"$model",e)},expression:"$v.form.age.$model"}}),t.$v.form.age.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-age"}},[t._v(" "+t._s(t.langIsEng?"Age is required.":"العمر مطلوب")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",{attrs:{id:"group-visit-add-address",label:t.langIsEng?"Address":"العنوان","label-for":"visit-add-address"}},[a("b-form-input",{attrs:{id:"visit-add-address",name:"visit-add-address",state:t.validateState("address"),"aria-describedby":"input-add-address"},model:{value:t.$v.form.address.$model,callback:function(e){t.$set(t.$v.form.address,"$model",e)},expression:"$v.form.address.$model"}}),t.$v.form.address.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-address"}},[t._v(" "+t._s(t.langIsEng?"Address is required.":"العنوان مطلوب")+" ")])],1)],1)],1)],1),a("div",{staticClass:"form-section"},[a("div",{staticClass:"section-header"},[a("h4",[a("b",[t._v(t._s(t.langIsEng?"Medical information":"البيانات الطبية"))])])]),a("b-row",[a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.heartDisease,callback:function(e){t.$set(t.form,"heartDisease",e)},expression:"form.heartDisease"}},[t._v(" "+t._s(t.langIsEng?"Heart disease":"امراض القلب")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.leverInflammation,callback:function(e){t.$set(t.form,"leverInflammation",e)},expression:"form.leverInflammation"}},[t._v(" "+t._s(t.langIsEng?"Lever inflammation A/B/C":"التهاب الكبد الوبائي A/B/C")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.bloodPressure,callback:function(e){t.$set(t.form,"bloodPressure",e)},expression:"form.bloodPressure"}},[t._v(" "+t._s(t.langIsEng?"BloodPressure":"ضغط الدم")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.anemia,callback:function(e){t.$set(t.form,"anemia",e)},expression:"form.anemia"}},[t._v(" "+t._s(t.langIsEng?"Anemia":"انيميا")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.hemophilia,callback:function(e){t.$set(t.form,"hemophilia",e)},expression:"form.hemophilia"}},[t._v(" "+t._s(t.langIsEng?"Hemophilia":"هيموفيليا")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.kidneyDisease,callback:function(e){t.$set(t.form,"kidneyDisease",e)},expression:"form.kidneyDisease"}},[t._v(" "+t._s(t.langIsEng?"Kidney disease":"أمراض الكلى")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.aids,callback:function(e){t.$set(t.form,"aids",e)},expression:"form.aids"}},[t._v(" "+t._s(t.langIsEng?"AIDS":"الايدز")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.rheumaticfever,callback:function(e){t.$set(t.form,"rheumaticfever",e)},expression:"form.rheumaticfever"}},[t._v(" "+t._s(t.langIsEng?"Rheumatic fever":"حمى روماتيزميه")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.pregnancy,callback:function(e){t.$set(t.form,"pregnancy",e)},expression:"form.pregnancy"}},[t._v(" "+t._s(t.langIsEng?"Pregnancy":"الحمل")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.tb,callback:function(e){t.$set(t.form,"tb",e)},expression:"form.tb"}},[t._v(" "+t._s(t.langIsEng?"tb":"السل")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.radiationTherapy,callback:function(e){t.$set(t.form,"radiationTherapy",e)},expression:"form.radiationTherapy"}},[t._v(" "+t._s(t.langIsEng?"Radiation therapy":"علاج اشعاعي")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.respiratoryDistress,callback:function(e){t.$set(t.form,"respiratoryDistress",e)},expression:"form.respiratoryDistress"}},[t._v(" "+t._s(t.langIsEng?"Respiratory distress":"أزمه تنفسيه")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.chemotherapy,callback:function(e){t.$set(t.form,"chemotherapy",e)},expression:"form.chemotherapy"}},[t._v(" "+t._s(t.langIsEng?"Chemotherapy":"علاج كيميائي")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.diabetes,callback:function(e){t.$set(t.form,"diabetes",e)},expression:"form.diabetes"}},[t._v(" "+t._s(t.langIsEng?"Diabetes":"مرض السكر")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.arthritis,callback:function(e){t.$set(t.form,"arthritis",e)},expression:"form.arthritis"}},[t._v(" "+t._s(t.langIsEng?"Arthritis":"التهاب المفاصل")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.liquorDrugs,callback:function(e){t.$set(t.form,"liquorDrugs",e)},expression:"form.liquorDrugs"}},[t._v(" "+t._s(t.langIsEng?"Liquor drugs":"ادوية السيولة")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.thyroidDiseases,callback:function(e){t.$set(t.form,"thyroidDiseases",e)},expression:"form.thyroidDiseases"}},[t._v(" "+t._s(t.langIsEng?"Thyroid diseases":"أمراض الغده الدرقية")+" ")])],1)],1)],1),a("div",{staticClass:"mt-5"}),a("b-row",[a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.underMedicalCare,callback:function(e){t.$set(t.form,"underMedicalCare",e)},expression:"form.underMedicalCare"}},[t._v(" "+t._s(t.langIsEng?"Are you currently undergoing medical care?":"هل تخضع للرعاية الطبية حاليا؟")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.useAsprin,callback:function(e){t.$set(t.form,"useAsprin",e)},expression:"form.useAsprin"}},[t._v(" "+t._s(t.langIsEng?"Do you use aspirin regularly?":"هل تستخدم الاسبرين بصورة منتظمة؟")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{"label-for":"useAnyMedications"}},[a("b-form-checkbox",{attrs:{id:"useAnyMedications"},model:{value:t.form.useAnyMedications,callback:function(e){t.$set(t.form,"useAnyMedications",e)},expression:"form.useAnyMedications"}},[t._v(" "+t._s(t.langIsEng?"Are you using any medications for any reason at the moment?":"هل تستخدم اى ادوية لاى سبب في الوقت الحاضر؟")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{"label-for":"useAnyMedicationsDetails",label:t.langIsEng?"Write down the medications you take ...":"اكتب الادوية التى تأخذها والجرعات ..."}},[a("b-form-textarea",{attrs:{disabled:!t.form.useAnyMedications,id:"useAnyMedicationsDetails",rows:"2","max-rows":"2"},model:{value:t.form.useAnyMedicationsDetails,callback:function(e){t.$set(t.form,"useAnyMedicationsDetails",e)},expression:"form.useAnyMedicationsDetails"}})],1)],1)],1),a("div",{staticClass:"mt-5"}),a("b-row",[a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.bleeding,callback:function(e){t.$set(t.form,"bleeding",e)},expression:"form.bleeding"}},[t._v(" "+t._s(t.langIsEng?"Are you facing the problem of continuous bleeding after surgery or extraction?":"هل تواجه مشكلة النزيف المستمر بعد اجراء جراحة أو خلع؟")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.dentalAnesthetic,callback:function(e){t.$set(t.form,"dentalAnesthetic",e)},expression:"form.dentalAnesthetic"}},[t._v(" "+t._s(t.langIsEng?"Have you experienced an abnormal reaction to dental anesthetic?":"هل واجهت رد فعل غير طبيعي تجاه بنج الاسنان؟")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{"label-for":"drugSensitivity"}},[a("b-form-checkbox",{attrs:{id:"drugSensitivity"},model:{value:t.form.drugSensitivity,callback:function(e){t.$set(t.form,"drugSensitivity",e)},expression:"form.drugSensitivity"}},[t._v(" "+t._s(t.langIsEng?"Do you mean from any sensitivity to any drug or drug?":"هل تعني من أي حساسية تجاه أي دواء او عقار؟")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{"label-for":"drugSensitivityDetails",label:t.langIsEng?"Write down the medications you take ...":"اكتب الادوية التى تأخذها والجرعات ..."}},[a("b-form-textarea",{attrs:{disabled:!t.form.drugSensitivity,id:"drugSensitivityDetails",rows:"2","max-rows":"2"},model:{value:t.form.drugSensitivityDetails,callback:function(e){t.$set(t.form,"drugSensitivityDetails",e)},expression:"form.drugSensitivityDetails"}})],1)],1)],1),a("div",{staticClass:"mt-5"}),a("b-row",[a("b-col",{staticClass:"mb-2",attrs:{lg:"12",md:"12"}},[a("h5",[t._v(t._s(t.langIsEng?"Do you have these habits?":"هل لديك هذه العادات؟"))])]),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.smoking,callback:function(e){t.$set(t.form,"smoking",e)},expression:"form.smoking"}},[t._v(" "+t._s(t.langIsEng?"Smoking":"التدخين")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.clenchingTeeth,callback:function(e){t.$set(t.form,"clenchingTeeth",e)},expression:"form.clenchingTeeth"}},[t._v(" "+t._s(t.langIsEng?"Clenching hard on the teeth":"الجز بشده على الاسنان")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{"label-for":"otherInfo",label:t.langIsEng?"The latest developments in the medical situation":"اخر المستجدات في الحالة الطبية ..."}},[a("b-form-textarea",{attrs:{id:"otherInfo",rows:"2","max-rows":"2"},model:{value:t.form.otherInfo,callback:function(e){t.$set(t.form,"otherInfo",e)},expression:"form.otherInfo"}})],1)],1)],1)],1),a("div",[a("b-button",{attrs:{type:"submit",variant:"success"}},[t._v(t._s(t.langIsEng?"Save":"تعديل"))]),a("b-button",{class:t.langIsEng?"ml-2":"mr-2",on:{click:function(e){return t.resetForm()}}},[t._v(t._s(t.langIsEng?"Reset":"اعادة"))])],1)])],1)},Rt=[],Vt=(a("a434"),a("ac1f"),a("1276"),{mixins:[$["validationMixin"]],data:function(){return{pageIsLoading:!1,alertCountdown:0,alertType:"",alertText:"",lang:null,langIsEng:null,form:{name:null,phone:null,national:null,age:null,address:null,heartDisease:!1,leverInflammation:!1,bloodPressure:!1,anemia:!1,hemophilia:!1,kidneyDisease:!1,aids:!1,rheumaticfever:!1,pregnancy:!1,tb:!1,radiationTherapy:!1,respiratoryDistress:!1,chemotherapy:!1,diabetes:!1,arthritis:!1,liquorDrugs:!1,thyroidDiseases:!1,underMedicalCare:!1,useAsprin:!1,useAnyMedications:!1,useAnyMedicationsDetails:"",bleeding:!1,dentalAnesthetic:!1,drugSensitivity:!1,drugSensitivityDetails:"",smoking:!1,clenchingTeeth:!1,otherInfo:""},HistoryDic:{heartDisease:"heartDisease",leverInflammation:"leverInflammation",bloodPressure:"bloodPressure",anemia:"anemia",hemophilia:"hemophilia",kidneyDisease:"kidneyDisease",aids:"aids",rheumaticfever:"rheumaticfever",pregnancy:"pregnancy",tb:"tb",radiationTherapy:"radiationTherapy",respiratoryDistress:"respiratoryDistress",chemotherapy:"chemotherapy",diabetes:"diabetes",arthritis:"arthritis",liquorDrugs:"liquorDrugs",thyroidDiseases:"Thyroid diseases",underMedicalCare:"Under medical care",useAsprin:"Use asprin",useAnyMedications:"Use any medications",useAnyMedicationsDetails:"Use any medications details",bleeding:"Bleeding",dentalAnesthetic:"Dental anesthetic",drugSensitivity:"drug sensitivity",drugSensitivityDetails:"Drug sensitivity details",smoking:"Smoking",clenchingTeeth:"Clenching Teeth",otherInfo:"Other Information"}}},validations:{form:{name:{required:E["required"]},phone:{required:E["required"],numeric:E["numeric"],minLength:Object(E["minLength"])(11),maxLength:Object(E["maxLength"])(11)},national:{required:E["required"],numeric:E["numeric"],minLength:Object(E["minLength"])(14),maxLength:Object(E["maxLength"])(14)},age:{required:E["required"]},address:{required:E["required"]}}},watch:{},methods:{validateExistPatientState:function(t){var e=this.$v.form[t],a=e.$dirty,i=e.$error;return a?!i:null},validateState:function(t){var e=this.$v.form[t],a=e.$dirty,i=e.$error;return a?!i:null},countDownChanged:function(t){this.alertCountdown=t},resetForm:function(){var t=this;this.form={name:null,phone:null,national:null},this.$nextTick((function(){t.$v.$reset()}))},onSubmit:function(){this.$v.form.$touch(),this.$v.form.$anyError||this.updatePatient()},configureForm:function(){var t=Object.keys(this.form);if(t.splice(0,5),this.form.id=this.patientData.id,this.form.name=this.patientData.name,this.form.age=this.patientData.age,this.form.national=this.patientData.national_id,this.form.phone=this.patientData.phone,this.form.address=this.patientData.address,this.patientData.medical_history)for(var e=this.patientData.medical_history.split(","),a=0;a<e.length;a++)"useAnyMedicationsDetails"==t[a]?"-"!=e[a]?this.form["useAnyMedicationsDetails"]=e[a]:this.form["useAnyMedicationsDetails"]="":"drugSensitivityDetails"==t[a]?"-"!=e[a]?this.form["drugSensitivityDetails"]=e[a]:this.form["drugSensitivityDetails"]="":"otherInfo"==t[a]?"-"!=e[a]?this.form["otherInfo"]=e[a]:this.form["otherInfo"]="":"-"!=e[a]?this.form[t[a]]=!0:this.form[t[a]]=!1;this.pageIsLoading=!1},getPatient:function(){var t=this;this.pageIsLoading=!0;var e=this.$route.params.id,a=function(e){t.patientData=e.data.data,t.configureForm()},i=function(e){var a="حدث خطأ ما ، حاول قريبًا";t.pageIsLoading=!1,t.alertType="danger",t.alertText=a,t.alertCountdown="3"};pe("get","/nurse/patients/"+e,!1,null,a,i)},updatePatient:function(){var t=this;this.pageIsLoading=!0;var e={name:this.form.name,age:this.form.age,phone:this.form.phone,national_id:this.form.national,address:this.form.address,medical_history:""};delete this.form.name,delete this.form.age,delete this.form.phone,delete this.form.national,delete this.form.address;for(var a="",i=Object.keys(this.form),s=Object.values(this.form),n=0;n<s.length;n++)"useAnyMedicationsDetails"==i[n]&&(i[n]=this.form.useAnyMedicationsDetails),"drugSensitivityDetails"==i[n]&&(i[n]=this.form.drugSensitivityDetails),"otherInfo"==i[n]&&(i[n]=this.form.otherInfo),s[n]?(a+=i[n],a+=","):(a+="-",a+=",");a=a.slice(0,-1),e.medical_history=a;var o=this.$route.params.id,r=function(){t.pageIsLoading=!1,t.alertType="success",t.alertText=t.langIsEng?"Patient updated successfully.":"تم تعديل بيانات المريض بنجاح ",t.alertCountdown="3",t.resetForm()},l=function(e){var a="حدث خطأ ما ، حاول قريبًا";t.pageIsLoading=!1,t.alertType="danger",t.alertText=a,t.alertCountdown="3"};pe("put","/nurse/patients/"+o,!1,e,r,l)}},created:function(){this.lang=v.getters.getlang,this.langIsEng="en"==v.getters.getlang,this.$route.params.id&&this.getPatient()}}),zt=Vt,jt=Object(L["a"])(zt,Nt,Rt,!1,null,null,null),Ut=jt.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),t.patientData?a("div",{attrs:{dir:"rtl"}},[t.isLoading?a("div",{staticClass:"text-center >text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1):t._e(),t.isLoading||1!=t.patientData.visits.length?t._e():a("div"),t.isLoading?t._e():a("div",{attrs:{dir:"ltr"}},[a("h6",[a("b",[t._v("Name: ")]),t._v(t._s(t.patientData.name)+" / "),a("b",[t._v("Age: ")]),t._v(t._s(t.patientData.age)+" / "),a("b",[t._v("Phone: ")]),t._v(t._s(t.patientData.phone)+" / "),a("b-button",{staticClass:"btn btn-secondary options-table-btn edit-options-table-btn",attrs:{type:"button",size:"sm"},on:{click:function(e){return t.goToProfile(t.patientData.id)}}},[t._v(t._s(t.langIsEng?"Patient Medical File":"ملف المريض"))])],1),1==t.patientData.visits.length?a("h6",[a("b-badge",{attrs:{variant:"info"}},[t._v("First visit.")])],1):a("h6",[a("b-badge",{attrs:{variant:"info"}},[t._v("Last visit: "+t._s(t.patientData.visits[1].date))])],1),a("h6")]),t.isLoading?t._e():a("div",{staticClass:"row",staticStyle:{"background-color":"#acd5d1","text-align":"center"}},[a("div",{staticClass:"col-lg-6 col-md-12 col-sm-12 mt-4"},[a("b-button",{staticClass:"btn btn-primary options-table-btn edit-options-table-btn",attrs:{type:"button",size:"lg"},on:{click:function(e){return t.changeAllTeeth("Calculs")}}},[t._v("Make all teeth Calculs")]),a("b-button",{staticClass:"btn btn-primary options-table-btn edit-options-table-btn",attrs:{type:"button",size:"lg"},on:{click:function(e){return t.changeAllTeeth("Good")}}},[t._v("Make all teeth Good")])],1),1==t.patientData.visits.length?a("div",{staticClass:"col-lg-6 col-md-12 col-sm-12 mt-4"},[a("b-badge",{attrs:{variant:"warning"}},[t._v(".You need to complete patient profile")]),a("br"),a("br")],1):t._e()]),t.isLoading?t._e():a("div",{staticClass:"row",staticStyle:{"background-color":"#acd5d1","text-align":"center"}},[a("div",{staticClass:"col-lg-6 col-md-6 col-sm-6 mt-4"},[a("h6",[t._v("Upper Left")]),t.isLoading?t._e():a("div",{staticClass:"row",staticStyle:{"align-items":"flex-end","border-right":"3px solid #9aadab","justify-content":"flex-end","border-bottom":"1px solid #9aadab"}},t._l(t.teeth_up_left,(function(e,i){return t.patientData.age>12&&t.leftSideTeethAdultCounter[i]||"#"!=t.leftSideTeethChildCounter[i]?a("div",{key:i,staticClass:"col-lg-1 col-md-1 col-sm-1 mt-4",attrs:{title:e.status}},[a("b-img",{staticClass:"teeth-img",style:"background-color:"+t.statusColor[e.status],attrs:{width:e.width,src:e.imgSrc},on:{click:function(a){return t.chengeTeeth(e,t.patientData.age>12?t.leftSideTeethAdultCounter[i]:t.leftSideTeethChildCounter[i],"Upper Left")}}}),a("p",[t._v(t._s(t.patientData.age>12?t.leftSideTeethAdultCounter[i]:t.leftSideTeethChildCounter[i]))])],1):t._e()})),0)]),a("div",{staticClass:"col-lg-6 col-md-6 col-sm-12 mt-4"},[a("h6",[t._v("Upper Right")]),t.isLoading?t._e():a("div",{staticClass:"row",staticStyle:{"align-items":"flex-end","border-right":"3px solid #9aadab","border-bottom":"1px solid #9aadab"}},t._l(t.teeth_up_right,(function(e,i){return t.patientData.age>12&&t.rightSideTeethAdultCounter[i]||"#"!=t.rightSideTeethChildCounter[i]?a("div",{key:i,staticClass:"col-lg-1 col-md-1 col-sm-1 mt-4",attrs:{title:e.status}},[a("b-img",{staticClass:"teeth-img",style:"background-color:"+t.statusColor[e.status],attrs:{width:e.width,src:e.imgSrc},on:{click:function(a){return t.chengeTeeth(e,t.patientData.age>12?t.rightSideTeethAdultCounter[i]:t.rightSideTeethChildCounter[i],"Upper Right")}}}),a("p",[t._v(t._s(t.patientData.age>12?t.rightSideTeethAdultCounter[i]:t.rightSideTeethChildCounter[i]))])],1):t._e()})),0)])]),t.isLoading?t._e():a("div",{staticClass:"row",staticStyle:{"background-color":"#acd5d1","text-align":"center"}},[a("div",{staticClass:"col-lg-6 col-md-6 col-sm-6"},[t.isLoading?t._e():a("div",{staticClass:"row",staticStyle:{"align-items":"flex-start","border-right":"3px solid #9aadab","justify-content":"flex-end","border-top":"2px solid #9aadab"}},[t._l(t.teeth_lower_left,(function(e,i){return t.patientData.age>12&&t.leftSideTeethAdultCounter[i]||"#"!=t.leftSideTeethChildCounter[i]?a("div",{key:i,staticClass:"col-lg-1 col-md-1 col-sm-1 mt-4",attrs:{title:e.status}},[a("p",[t._v(t._s(t.patientData.age>12?t.leftSideTeethAdultCounter[i]:t.leftSideTeethChildCounter[i]))]),a("b-img",{staticClass:"teeth-img",staticStyle:{transform:"rotate(180deg)"},style:"background-color:"+t.statusColor[e.status],attrs:{width:e.width,src:e.imgSrc},on:{click:function(a){return t.chengeTeeth(e,t.patientData.age>12?t.leftSideTeethAdultCounter[i]:t.leftSideTeethChildCounter[i],"Lower Left")}}})],1):t._e()})),a("br")],2),a("br"),a("h6",[t._v("Lower Left")])]),a("div",{staticClass:"col-lg-6 col-md-6 col-sm-12"},[t.isLoading?t._e():a("div",{staticClass:"row",staticStyle:{"align-items":"flex-start","border-right":"3px solid #9aadab","border-top":"2px solid #9aadab"}},t._l(t.teeth_lower_right,(function(e,i){return t.patientData.age>12&&t.rightSideTeethAdultCounter[i]||"#"!=t.rightSideTeethChildCounter[i]?a("div",{key:i,staticClass:"col-lg-1 col-md-1 col-sm-1 mt-4",attrs:{title:e.status}},[a("p",[t._v(t._s(t.patientData.age>12?t.rightSideTeethAdultCounter[i]:t.rightSideTeethChildCounter[i]))]),a("b-img",{staticClass:"teeth-img",staticStyle:{transform:"rotate(180deg)"},style:"background-color:"+t.statusColor[e.status],attrs:{width:e.width,src:e.imgSrc},on:{click:function(a){return t.chengeTeeth(e,t.patientData.age>12?t.rightSideTeethAdultCounter[i]:t.rightSideTeethChildCounter[i],"Lower Right")}}})],1):t._e()})),0),a("br"),a("h6",[t._v("Lower Right")])])])]):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.pageIsLoading,expression:"!pageIsLoading"}],staticClass:"row mt-3"},[a("div",{staticClass:"col-md-12"},[a("div",{},[a("div",{},[a("h5",[t._v("Visits")]),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered table-hover"},[a("thead",[a("tr",[t._m(0),a("th",{attrs:{width:"20%"}},[a("span",{staticClass:"tbl-data"},[t._v(t._s(t.langIsEng?"Date and time":"التاريخ والوقت"))])]),a("th",[a("span",{staticClass:"tbl-data"},[t._v(t._s(t.langIsEng?"Operations":"العمليات"))])]),t._m(1)])]),a("tbody",t._l(t.patientData.visits,(function(e,i){return a("tr",{key:i},[a("td",[t._v(" "+t._s(++i)+" ")]),a("td",[a("span",{staticClass:"tbl-data"},[t._v(t._s(e.date+" - "+e.time))])]),a("td",[a("span",{staticClass:"tbl-data"},[a("div",t._l(e.operations,(function(e){return a("b-badge",{key:e.id,staticClass:"mr-2",attrs:{variant:"secondary"}},[t._v(t._s(e.operation))])})),1)])]),a("td",{staticClass:"td-option"},[a("div",{staticClass:"form-group row-option"},["مع الطبيب"==e.status?a("b-button",{staticClass:"btn btn-success options-table-btn edit-options-table-btn",attrs:{type:"button",size:"lg"},on:{click:function(a){return t.goToVisit(e)}}},[t._v(t._s(t.langIsEng?"Show Visit":"الزيارة"))]):t._e()],1)])])})),0)])]),a("b-pagination",{attrs:{"total-rows":t.total,"per-page":10,align:"center",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])]),a("b-modal",{attrs:{title:t.langIsEng?"Operation":"عمليه"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{size:"sm",variant:"secondary"},on:{click:function(e){t.teethOperationModal=!1}}},[t._v(" "+t._s(t.langIsEng?"Cancel":"الغاء")+" ")]),a("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(e){return t.submitOperation()}}},[t._v(" "+t._s(t.langIsEng?"Save":"حفظ")+" ")])]},proxy:!0}]),model:{value:t.teethOperationModal,callback:function(e){t.teethOperationModal=e},expression:"teethOperationModal"}},[a("div",{staticClass:"my-4"},[a("b-row",[a("b-col",{staticClass:"pt-4",staticStyle:{"background-color":"#acd5d1","text-align":"center"}},[a("b-img",{staticClass:"teeth-img mb-1",staticStyle:{cursor:"arrow !important"},style:"background-color:"+t.currentTeeth.color,attrs:{width:t.currentTeeth.width,src:t.currentTeeth.imgSrc}}),a("p",[t._v(t._s(t.currentTeeth.position+" - "+t.currentTeeth.teethName))])],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{id:"group-visit-add-doctor",label:t.langIsEng?"Status":"الحالة"}},[a("b-form-select",{attrs:{name:"visit-add-doctor",options:t.operationsEn},on:{change:function(e){return t.changeCurrentStatus(t.operation)}},model:{value:t.operation,callback:function(e){t.operation=e},expression:"operation"}})],1)],1)],1)],1)])],1)},Gt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{attrs:{width:"5%"}},[a("span",{staticClass:"tbl-data"},[t._v("#")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticStyle:{"z-index":"1"},attrs:{width:"10%"}},[a("span",{staticClass:"tbl-data"})])}],Ht=(a("caad"),a("2532"),{name:"Home",data:function(){return{isLoading:!1,langIsEng:null,currentPage:1,total:null,data:{},alertCountdown:0,alertType:"",alertText:"",users:0,videos:0,teeth:a("9046"),patientData:{},leftSideTeethAdultCounter:["8","7","6","5","4","3","2","1"],rightSideTeethAdultCounter:["1","2","3","4","5","6","7","8"],leftSideTeethChildCounter:["#","#","#","E","D","C","B","A"],rightSideTeethChildCounter:["A","B","C","D","E","#","#","#"],teeth_up_left:[],teeth_up_right:[],teeth_lower_left:[],teeth_lower_right:[],operationsEn:[],operation:{},operationsDic:{},currentTeeth:{},teethOperationModal:!1}},methods:{countDownChanged:function(t){this.alertCountdown=t},submitOperation:function(){var t=this;this.teethOperationModal=!1,this.isLoading=!0,this.pageIsLoading=!0;var e=function(e){t.isLoading=!1,t.pageIsLoading=!1,t.alertType="success",t.alertText="Success",t.alertCountdown="3"},a=function(){t.isLoading=!1,t.pageIsLoading=!1,t.alertType="danger",t.alertText="حدث خطأ ما ، حاول قريبًا",t.alertCountdown="3"};pe("put","/doctor/initial-exam/"+this.currentTeeth.id,!0,{teeth_status:this.currentTeeth.status},e,a)},changeCurrentStatus:function(t){this.currentTeeth.status=t.name,this.currentTeeth.color=t.color},chengeTeeth:function(t,e,a){this.currentTeeth=t,this.currentTeeth.teethName=e,this.currentTeeth.position=a,this.currentTeeth.isLower=this.currentTeeth.position.includes("Lower"),this.operation=t.status,this.teethOperationModal=!0},getProfileData:function(t){var e=this;this.isLoading=!0,this.pageIsLoading=!0,this.teeth_up_left=[],this.teeth_up_right=[],this.teeth_lower_left=[],this.teeth_lower_right=[];var i=function(t){e.patientData=t.data.data;for(var i=0;i<4;i++){e.isLoading=!0,e.pageIsLoading=!0;for(var s=0;s<8;s++)e.isLoading=!0,e.pageIsLoading=!0,0!=s&&1!=s&&2!=s||(e.patientData.teeths[s].imgSrc=a("9046"),e.patientData.teeths[s].width=40,e.patientData.teeths[s].type=4),3!=s&&4!=s||(e.patientData.teeths[s].imgSrc=a("a4aa"),e.patientData.teeths[s].width=30,e.patientData.teeths[s].type=3),5==s&&(e.patientData.teeths[s].imgSrc=a("e827"),e.patientData.teeths[s].width=30,e.patientData.teeths[s].type=2),6!=s&&7!=s||(e.patientData.teeths[s].imgSrc=a("4e43"),e.patientData.teeths[s].width=30,e.patientData.teeths[s].type=1),0==i&&e.teeth_up_left.push(e.patientData.teeths[s]);for(var n=8;n<16;n++)e.isLoading=!0,e.pageIsLoading=!0,15!=n&&14!=n&&13!=n||(e.patientData.teeths[n].imgSrc=a("9046"),e.patientData.teeths[n].width=40,e.patientData.teeths[n].type=4),12!=n&&11!=n||(e.patientData.teeths[n].imgSrc=a("a4aa"),e.patientData.teeths[n].type=40,e.patientData.teeths[n].width=30,e.patientData.teeths[n].type=3),10==n&&(e.patientData.teeths[n].imgSrc=a("e827"),e.patientData.teeths[n].width=30,e.patientData.teeths[n].type=2),9!=n&&8!=n||(e.patientData.teeths[n].imgSrc=a("4e43"),e.patientData.teeths[n].width=30,e.patientData.teeths[n].type=1),0==i&&e.teeth_up_right.push(e.patientData.teeths[n]);for(var o=16;o<24;o++)e.isLoading=!0,e.pageIsLoading=!0,16!=o&&17!=o&&18!=o||(e.patientData.teeths[o].imgSrc=a("9046"),e.patientData.teeths[o].width=40,e.patientData.teeths[o].type=4),19!=o&&20!=o||(e.patientData.teeths[o].imgSrc=a("a4aa"),e.patientData.teeths[o].width=30,e.patientData.teeths[o].type=3),21==o&&(e.patientData.teeths[o].imgSrc=a("e827"),e.patientData.teeths[o].width=30,e.patientData.teeths[o].type=2),22!=o&&23!=o||(e.patientData.teeths[o].imgSrc=a("4e43"),e.patientData.teeths[o].width=30,e.patientData.teeths[o].type=1),0==i&&e.teeth_lower_left.push(e.patientData.teeths[o]);for(var r=24;r<32;r++)e.isLoading=!0,e.pageIsLoading=!0,31!=r&&30!=r&&29!=r||(e.patientData.teeths[r].imgSrc=a("9046"),e.patientData.teeths[r].width=40,e.patientData.teeths[r].type=4),28!=r&&27!=r||(e.patientData.teeths[r].imgSrc=a("a4aa"),e.patientData.teeths[r].width=30,e.patientData.teeths[r].type=3),26==r&&(e.patientData.teeths[r].imgSrc=a("e827"),e.patientData.teeths[r].width=30,e.patientData.teeths[r].type=2),25!=r&&24!=r||(e.patientData.teeths[r].imgSrc=a("4e43"),e.patientData.teeths[r].width=30,e.patientData.teeths[r].type=1),0==i&&e.teeth_lower_right.push(e.patientData.teeths[r])}e.isLoading=!1,e.pageIsLoading=!1},s=function(){e.isLoading=!1,e.pageIsLoading=!1,e.alertType="danger",e.alertText="حدث خطأ ما ، حاول قريبًا",e.alertCountdown="3"};pe("get","/doctor/show-patient/"+t,!0,null,i,s)},getOperations:function(){this.isLoading=!0,this.pageIsLoading=!0,this.operationsEn=[{text:"Good",value:{name:"Good",color:"white"},name:"Good",color:"white"},{text:"Calculs",value:{name:"Calculs",color:"#F2E4D2"},name:"Calculs",color:"#F2E4D2"},{text:"Cares",value:{name:"Cares",color:"#FFFF00"},name:"Cares",color:"#FFFF00"},{text:"Missing",value:{name:"Missing",color:"#948A54"},name:"Missing",color:"#948A54"},{text:"Implant",value:{name:"Implant",color:"#FF0000"},name:"Implant",color:"#FF0000"},{text:"Fixed prosthetics",value:{name:"Fixed prosthetics",color:"#974706"},name:"Fixed prosthetics",color:"#974706"},{text:"Removable prosthetics",value:{name:"Removable prosthetics",color:"#4F6228"},name:"Removable prosthetics",color:"#4F6228"}],this.statusColor={Good:"white",good:"white",Calculs:"#F2E4D2",Cares:"#FFFF00",Missing:"#948A54",Implant:"#FF0000","Fixed prosthetics":"#974706","Removable prosthetics":"#4F6228","Post & Core":"#C4AEAD",Filling:"#C4AEAD",Normal:"#FFA07A",Retreatment:"#FFA07A",Simple:"#667C26",Impaction:"#667C26",PFM:"#E2A76F",Zirconia:"#E2A76F",Scaling:"#00B0F0"}},goToProfile:function(t){this.$router.push({name:"patientProfileMedical",params:{id:t}})},goToVisit:function(t){this.$router.push({name:"patientVisit",params:{id:t.id,patientId:t.patient_id}})},changeAllTeeth:function(t){var e=this;this.isLoading=!0;var a=function(a){e.isLoading=!1,e.alertType="success",e.alertText="All teeth are '"+t+"' now.",e.alertCountdown="3",e.getProfileData(e.$route.params.id)},i=function(){e.isLoading=!1,e.pageIsLoading=!1,e.alertType="danger",e.alertText="حدث خطأ ما ، حاول قريبًا",e.alertCountdown="3"};pe("put","/doctor/set-teeth-status/"+this.$route.params.id,!0,{status:t},a,i)}},created:function(){this.langIsEng="en"==v.getters.getlang,"doctor"==v.getters.getRole?this.isDoctor=!0:"nurse"==v.getters.getRole&&(this.isDoctor=!1),this.getOperations(),this.getProfileData(this.$route.params.id)}}),Wt=Ht,Yt=(a("1254"),Object(L["a"])(Wt,Bt,Gt,!1,null,"8c1cb682",null)),Kt=Yt.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout users"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.pageIsLoading,expression:"pageIsLoading"}],staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1),a("b-form",{directives:[{name:"show",rawName:"v-show",value:!t.pageIsLoading,expression:"!pageIsLoading"}],on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"section-header mt-2"},[a("h3",[a("b",[t._v(t._s(t.langIsEng?"Patient":"المريض"))]),a("b-button",{staticClass:"btn btn-secondary options-table-btn edit-options-table-btn",attrs:{type:"button",size:"sm"},on:{click:function(e){return t.goToProfile(t.patientData.id)}}},[t._v(t._s(t.langIsEng?"Patient Profile":"ملف المريض"))])],1)]),a("div",{staticClass:"form-section"},[a("div",{staticClass:"section-header"},[a("h4",[a("b",[t._v(t._s(t.langIsEng?"Personal information":"بيانات شخصية"))])])]),a("b-row",[a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",{attrs:{label:t.langIsEng?"Phone":"رقم المحمول"}},[a("b-form-input",{attrs:{id:"visit-add-phone",name:"visit-add-phone",state:t.validateState("phone"),"aria-describedby":"input-add-phone"},model:{value:t.$v.form.phone.$model,callback:function(e){t.$set(t.$v.form.phone,"$model",e)},expression:"$v.form.phone.$model"}}),t.$v.form.phone.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-phone"}},[t._v(" "+t._s(t.langIsEng?"Phone is required.":"رقم المحمول مطلوب")+" ")]),t.$v.form.phone.minLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"Phone is 11 number only.":"رقم المحمول يتكون من 11 رقم")+" ")]),t.$v.form.phone.maxLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"Phone is 11 number only.":"رقم المحمول يتكون من 11 رقم")+" ")]),t.$v.form.phone.numeric?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"Phone is numbers.":"رقم المحمول يتكون من ارقام فقط")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",{attrs:{id:"group-visit-add-name",label:t.langIsEng?"Patient name":"اسم المريض","label-for":"visit-add-name"}},[a("b-form-input",{attrs:{id:"visit-add-name",name:"visit-add-name",state:t.validateState("name"),"aria-describedby":"input-add-name"},model:{value:t.$v.form.name.$model,callback:function(e){t.$set(t.$v.form.name,"$model",e)},expression:"$v.form.name.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"input-add-name"}},[t._v(" "+t._s(t.langIsEng?"Name is required.":"الاسم مطلوب")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",{attrs:{id:"group-visit-add-national",label:t.langIsEng?"National ID":"رقم البطاقة","label-for":"visit-add-national"}},[a("b-form-input",{attrs:{id:"visit-add-national",name:"visit-add-national",type:"number",state:t.validateState("national"),"aria-describedby":"input-add-national"},model:{value:t.$v.form.national.$model,callback:function(e){t.$set(t.$v.form.national,"$model",e)},expression:"$v.form.national.$model"}}),t.$v.form.national.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"National ID is required.":"رقم البطاقة مطلوب")+" ")]),t.$v.form.national.minLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"National ID is 14 number only.":"رقم البطاقة يتكون من 14 رقم")+" ")]),t.$v.form.national.maxLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"National ID is 14 number only.":"رقم البطاقة يتكون من 14 رقم")+" ")]),t.$v.form.national.numeric?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-national"}},[t._v(" "+t._s(t.langIsEng?"National ID is numbers.":"رقم البطاقة يتكون من ارقام فقط")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",{attrs:{id:"group-visit-add-age",label:t.langIsEng?"Age":"العمر","label-for":"visit-add-age"}},[a("b-form-input",{attrs:{id:"visit-add-age",name:"visit-add-age",state:t.validateState("age"),"aria-describedby":"input-add-age"},model:{value:t.$v.form.age.$model,callback:function(e){t.$set(t.$v.form.age,"$model",e)},expression:"$v.form.age.$model"}}),t.$v.form.age.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-age"}},[t._v(" "+t._s(t.langIsEng?"Age is required.":"العمر مطلوب")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",{attrs:{id:"group-visit-add-address",label:t.langIsEng?"Address":"العنوان","label-for":"visit-add-address"}},[a("b-form-input",{attrs:{id:"visit-add-address",name:"visit-add-address",state:t.validateState("address"),"aria-describedby":"input-add-address"},model:{value:t.$v.form.address.$model,callback:function(e){t.$set(t.$v.form.address,"$model",e)},expression:"$v.form.address.$model"}}),t.$v.form.address.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"input-edit-address"}},[t._v(" "+t._s(t.langIsEng?"Address is required.":"العنوان مطلوب")+" ")])],1)],1)],1)],1),a("div",{staticClass:"form-section"},[a("div",{staticClass:"section-header"},[a("h4",[a("b",[t._v(t._s(t.langIsEng?"Medical information":"البيانات الطبية"))])])]),a("b-row",[a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.heartDisease,callback:function(e){t.$set(t.form,"heartDisease",e)},expression:"form.heartDisease"}},[t._v(" "+t._s(t.langIsEng?"Heart disease":"امراض القلب")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.leverInflammation,callback:function(e){t.$set(t.form,"leverInflammation",e)},expression:"form.leverInflammation"}},[t._v(" "+t._s(t.langIsEng?"Lever inflammation A/B/C":"التهاب الكبد الوبائي A/B/C")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.bloodPressure,callback:function(e){t.$set(t.form,"bloodPressure",e)},expression:"form.bloodPressure"}},[t._v(" "+t._s(t.langIsEng?"BloodPressure":"ضغط الدم")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.anemia,callback:function(e){t.$set(t.form,"anemia",e)},expression:"form.anemia"}},[t._v(" "+t._s(t.langIsEng?"Anemia":"انيميا")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.hemophilia,callback:function(e){t.$set(t.form,"hemophilia",e)},expression:"form.hemophilia"}},[t._v(" "+t._s(t.langIsEng?"Hemophilia":"هيموفيليا")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.kidneyDisease,callback:function(e){t.$set(t.form,"kidneyDisease",e)},expression:"form.kidneyDisease"}},[t._v(" "+t._s(t.langIsEng?"Kidney disease":"أمراض الكلى")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.aids,callback:function(e){t.$set(t.form,"aids",e)},expression:"form.aids"}},[t._v(" "+t._s(t.langIsEng?"AIDS":"الايدز")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.rheumaticfever,callback:function(e){t.$set(t.form,"rheumaticfever",e)},expression:"form.rheumaticfever"}},[t._v(" "+t._s(t.langIsEng?"Rheumatic fever":"حمى روماتيزميه")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.pregnancy,callback:function(e){t.$set(t.form,"pregnancy",e)},expression:"form.pregnancy"}},[t._v(" "+t._s(t.langIsEng?"Pregnancy":"الحمل")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.tb,callback:function(e){t.$set(t.form,"tb",e)},expression:"form.tb"}},[t._v(" "+t._s(t.langIsEng?"tb":"السل")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.radiationTherapy,callback:function(e){t.$set(t.form,"radiationTherapy",e)},expression:"form.radiationTherapy"}},[t._v(" "+t._s(t.langIsEng?"Radiation therapy":"علاج اشعاعي")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.respiratoryDistress,callback:function(e){t.$set(t.form,"respiratoryDistress",e)},expression:"form.respiratoryDistress"}},[t._v(" "+t._s(t.langIsEng?"Respiratory distress":"أزمه تنفسيه")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.chemotherapy,callback:function(e){t.$set(t.form,"chemotherapy",e)},expression:"form.chemotherapy"}},[t._v(" "+t._s(t.langIsEng?"Chemotherapy":"علاج كيميائي")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.diabetes,callback:function(e){t.$set(t.form,"diabetes",e)},expression:"form.diabetes"}},[t._v(" "+t._s(t.langIsEng?"Diabetes":"مرض السكر")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.arthritis,callback:function(e){t.$set(t.form,"arthritis",e)},expression:"form.arthritis"}},[t._v(" "+t._s(t.langIsEng?"Arthritis":"التهاب المفاصل")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.liquorDrugs,callback:function(e){t.$set(t.form,"liquorDrugs",e)},expression:"form.liquorDrugs"}},[t._v(" "+t._s(t.langIsEng?"Liquor drugs":"ادوية السيولة")+" ")])],1)],1),a("b-col",{attrs:{lg:"3",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.thyroidDiseases,callback:function(e){t.$set(t.form,"thyroidDiseases",e)},expression:"form.thyroidDiseases"}},[t._v(" "+t._s(t.langIsEng?"Thyroid diseases":"أمراض الغده الدرقية")+" ")])],1)],1)],1),a("div",{staticClass:"mt-5"}),a("b-row",[a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.underMedicalCare,callback:function(e){t.$set(t.form,"underMedicalCare",e)},expression:"form.underMedicalCare"}},[t._v(" "+t._s(t.langIsEng?"Are you currently undergoing medical care?":"هل تخضع للرعاية الطبية حاليا؟")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.useAsprin,callback:function(e){t.$set(t.form,"useAsprin",e)},expression:"form.useAsprin"}},[t._v(" "+t._s(t.langIsEng?"Do you use aspirin regularly?":"هل تستخدم الاسبرين بصورة منتظمة؟")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{"label-for":"useAnyMedications"}},[a("b-form-checkbox",{attrs:{id:"useAnyMedications"},model:{value:t.form.useAnyMedications,callback:function(e){t.$set(t.form,"useAnyMedications",e)},expression:"form.useAnyMedications"}},[t._v(" "+t._s(t.langIsEng?"Are you using any medications for any reason at the moment?":"هل تستخدم اى ادوية لاى سبب في الوقت الحاضر؟")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{"label-for":"useAnyMedicationsDetails",label:t.langIsEng?"Write down the medications you take ...":"اكتب الادوية التى تأخذها والجرعات ..."}},[a("b-form-textarea",{attrs:{disabled:!t.form.useAnyMedications,id:"useAnyMedicationsDetails",rows:"2","max-rows":"2"},model:{value:t.form.useAnyMedicationsDetails,callback:function(e){t.$set(t.form,"useAnyMedicationsDetails",e)},expression:"form.useAnyMedicationsDetails"}})],1)],1)],1),a("div",{staticClass:"mt-5"}),a("b-row",[a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.bleeding,callback:function(e){t.$set(t.form,"bleeding",e)},expression:"form.bleeding"}},[t._v(" "+t._s(t.langIsEng?"Are you facing the problem of continuous bleeding after surgery or extraction?":"هل تواجه مشكلة النزيف المستمر بعد اجراء جراحة أو خلع؟")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.dentalAnesthetic,callback:function(e){t.$set(t.form,"dentalAnesthetic",e)},expression:"form.dentalAnesthetic"}},[t._v(" "+t._s(t.langIsEng?"Have you experienced an abnormal reaction to dental anesthetic?":"هل واجهت رد فعل غير طبيعي تجاه بنج الاسنان؟")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{"label-for":"drugSensitivity"}},[a("b-form-checkbox",{attrs:{id:"drugSensitivity"},model:{value:t.form.drugSensitivity,callback:function(e){t.$set(t.form,"drugSensitivity",e)},expression:"form.drugSensitivity"}},[t._v(" "+t._s(t.langIsEng?"Do you mean from any sensitivity to any drug or drug?":"هل تعني من أي حساسية تجاه أي دواء او عقار؟")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{"label-for":"drugSensitivityDetails",label:t.langIsEng?"Write down the medications you take ...":"اكتب الادوية التى تأخذها والجرعات ..."}},[a("b-form-textarea",{attrs:{disabled:!t.form.drugSensitivity,id:"drugSensitivityDetails",rows:"2","max-rows":"2"},model:{value:t.form.drugSensitivityDetails,callback:function(e){t.$set(t.form,"drugSensitivityDetails",e)},expression:"form.drugSensitivityDetails"}})],1)],1)],1),a("div",{staticClass:"mt-5"}),a("b-row",[a("b-col",{staticClass:"mb-2",attrs:{lg:"12",md:"12"}},[a("h5",[t._v(t._s(t.langIsEng?"Do you have these habits?":"هل لديك هذه العادات؟"))])]),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.smoking,callback:function(e){t.$set(t.form,"smoking",e)},expression:"form.smoking"}},[t._v(" "+t._s(t.langIsEng?"Smoking":"التدخين")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",[a("b-form-checkbox",{model:{value:t.form.clenchingTeeth,callback:function(e){t.$set(t.form,"clenchingTeeth",e)},expression:"form.clenchingTeeth"}},[t._v(" "+t._s(t.langIsEng?"Clenching hard on the teeth":"الجز بشده على الاسنان")+" ")])],1)],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{"label-for":"otherInfo",label:t.langIsEng?"The latest developments in the medical situation":"اخر المستجدات في الحالة الطبية ..."}},[a("b-form-textarea",{attrs:{id:"otherInfo",rows:"2","max-rows":"2"},model:{value:t.form.otherInfo,callback:function(e){t.$set(t.form,"otherInfo",e)},expression:"form.otherInfo"}})],1)],1)],1)],1),a("div")])],1)},Zt=[],Qt={mixins:[$["validationMixin"]],data:function(){return{pageIsLoading:!1,alertCountdown:0,alertType:"",alertText:"",lang:null,langIsEng:null,form:{name:null,phone:null,national:null,age:null,address:null,heartDisease:!1,leverInflammation:!1,bloodPressure:!1,anemia:!1,hemophilia:!1,kidneyDisease:!1,aids:!1,rheumaticfever:!1,pregnancy:!1,tb:!1,radiationTherapy:!1,respiratoryDistress:!1,chemotherapy:!1,diabetes:!1,arthritis:!1,liquorDrugs:!1,thyroidDiseases:!1,underMedicalCare:!1,useAsprin:!1,useAnyMedications:!1,useAnyMedicationsDetails:"",bleeding:!1,dentalAnesthetic:!1,drugSensitivity:!1,drugSensitivityDetails:"",smoking:!1,clenchingTeeth:!1,otherInfo:""},HistoryDic:{heartDisease:"heartDisease",leverInflammation:"leverInflammation",bloodPressure:"bloodPressure",anemia:"anemia",hemophilia:"hemophilia",kidneyDisease:"kidneyDisease",aids:"aids",rheumaticfever:"rheumaticfever",pregnancy:"pregnancy",tb:"tb",radiationTherapy:"radiationTherapy",respiratoryDistress:"respiratoryDistress",chemotherapy:"chemotherapy",diabetes:"diabetes",arthritis:"arthritis",liquorDrugs:"liquorDrugs",thyroidDiseases:"Thyroid diseases",underMedicalCare:"Under medical care",useAsprin:"Use asprin",useAnyMedications:"Use any medications",useAnyMedicationsDetails:"Use any medications details",bleeding:"Bleeding",dentalAnesthetic:"Dental anesthetic",drugSensitivity:"drug sensitivity",drugSensitivityDetails:"Drug sensitivity details",smoking:"Smoking",clenchingTeeth:"Clenching Teeth",otherInfo:"Other Information"}}},validations:{form:{name:{required:E["required"]},phone:{required:E["required"],numeric:E["numeric"],minLength:Object(E["minLength"])(11),maxLength:Object(E["maxLength"])(11)},national:{required:E["required"],numeric:E["numeric"],minLength:Object(E["minLength"])(14),maxLength:Object(E["maxLength"])(14)},age:{required:E["required"]},address:{required:E["required"]}}},watch:{},methods:{validateExistPatientState:function(t){var e=this.$v.form[t],a=e.$dirty,i=e.$error;return a?!i:null},validateState:function(t){var e=this.$v.form[t],a=e.$dirty,i=e.$error;return a?!i:null},countDownChanged:function(t){this.alertCountdown=t},resetForm:function(){var t=this;this.form={name:null,phone:null,national:null},this.$nextTick((function(){t.$v.$reset()}))},onSubmit:function(){this.$v.form.$touch(),this.$v.form.$anyError||this.updatePatient()},configureForm:function(){var t=Object.keys(this.form);if(t.splice(0,5),this.form.id=this.patientData.id,this.form.name=this.patientData.name,this.form.age=this.patientData.age,this.form.national=this.patientData.national_id,this.form.phone=this.patientData.phone,this.form.address=this.patientData.address,this.patientData.medical_history)for(var e=this.patientData.medical_history.split(","),a=0;a<e.length;a++)"useAnyMedicationsDetails"==t[a]?"-"!=e[a]?this.form["useAnyMedicationsDetails"]=e[a]:this.form["useAnyMedicationsDetails"]="":"drugSensitivityDetails"==t[a]?"-"!=e[a]?this.form["drugSensitivityDetails"]=e[a]:this.form["drugSensitivityDetails"]="":"otherInfo"==t[a]?"-"!=e[a]?this.form["otherInfo"]=e[a]:this.form["otherInfo"]="":"-"!=e[a]?this.form[t[a]]=!0:this.form[t[a]]=!1;this.pageIsLoading=!1},getPatient:function(){var t=this;this.pageIsLoading=!0;var e=this.$route.params.id,a=function(e){t.patientData=e.data.data,t.configureForm()},i=function(e){var a="حدث خطأ ما ، حاول قريبًا";t.pageIsLoading=!1,t.alertType="danger",t.alertText=a,t.alertCountdown="3"};pe("get","/nurse/patients/"+e,!1,null,a,i)},goToProfile:function(t){this.$router.push({name:"patientProfile",params:{id:t}})},updatePatient:function(){var t=this;this.pageIsLoading=!0;var e={name:this.form.name,age:this.form.age,phone:this.form.phone,national_id:this.form.national,address:this.form.address,medical_history:""};delete this.form.name,delete this.form.age,delete this.form.phone,delete this.form.national,delete this.form.address;for(var a="",i=Object.keys(this.form),s=Object.values(this.form),n=0;n<s.length;n++)"useAnyMedicationsDetails"==i[n]&&(i[n]=this.form.useAnyMedicationsDetails),"drugSensitivityDetails"==i[n]&&(i[n]=this.form.drugSensitivityDetails),"otherInfo"==i[n]&&(i[n]=this.form.otherInfo),s[n]?(a+=i[n],a+=","):(a+="-",a+=",");a=a.slice(0,-1),e.medical_history=a;var o=this.$route.params.id,r=function(){t.pageIsLoading=!1,t.alertType="success",t.alertText=t.langIsEng?"Patient updated successfully.":"تم تعديل بيانات المريض بنجاح ",t.alertCountdown="3",t.resetForm()},l=function(e){var a="حدث خطأ ما ، حاول قريبًا";t.pageIsLoading=!1,t.alertType="danger",t.alertText=a,t.alertCountdown="3"};pe("put","/nurse/patients/"+o,!1,e,r,l)}},created:function(){this.lang=v.getters.getlang,this.langIsEng="en"==v.getters.getlang,this.$route.params.id&&this.getPatient()}},Xt=Qt,te=Object(L["a"])(Xt,Jt,Zt,!1,null,null,null),ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("b-alert",{attrs:{show:t.alertCountdown,dismissible:"",fade:"",variant:t.alertType},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.alertText)+" ")]),t.patientData?a("div",[t.isLoading?a("div",{staticClass:"text-center >text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"})],1):t._e(),t.isLoading||1!=t.patientData.visits.length?t._e():a("div"),t.isLoading?t._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-9 col-md-6 col-sm-6 mt-4"},[t.isLoading?t._e():a("div",{attrs:{dir:"ltr"}},[t._m(0),a("h6",[a("b",[t._v("Name: ")]),t._v(t._s(t.patientData.name)+" / "),a("b",[t._v("Age: ")]),t._v(t._s(t.patientData.age)+" / "),a("b",[t._v("Phone: ")]),t._v(t._s(t.patientData.phone))]),a("h6")]),t.isLoading?t._e():a("div",{staticClass:"row",staticStyle:{"background-color":"#acd5d1","text-align":"center"},attrs:{dir:"rtl"}},[a("div",{staticClass:"col-lg-6 col-md-6 col-sm-6 mt-4"},[a("h6",[t._v("Upper Left")]),t.isLoading?t._e():a("div",{staticClass:"row",staticStyle:{"padding-left":"15px","align-items":"flex-end","border-right":"3px solid #9aadab","justify-content":"flex-end","border-bottom":"1px solid #9aadab"}},t._l(t.teeth_up_left,(function(e,i){return t.patientData.age>12&&t.leftSideTeethAdultCounter[i]||"#"!=t.leftSideTeethChildCounter[i]?a("div",{key:i,staticClass:"col-lg-1 col-md-1 col-sm-1 mt-4",attrs:{title:e.status}},[a("b-img",{staticClass:"teeth-img",style:"background-color:"+t.statusColor[e.status],attrs:{width:e.width,src:e.imgSrc},on:{click:function(a){return t.chengeTeeth(e,t.patientData.age>12?t.leftSideTeethAdultCounter[i]:t.leftSideTeethChildCounter[i],"Upper Left")}}}),a("p",{staticStyle:{"padding-left":"15px"}},[t._v(t._s(t.patientData.age>12?t.leftSideTeethAdultCounter[i]:t.leftSideTeethChildCounter[i]))])],1):t._e()})),0)]),a("div",{staticClass:"col-lg-6 col-md-6 col-sm-12 mt-4"},[a("h6",[t._v("Upper Right")]),t.isLoading?t._e():a("div",{staticClass:"row",staticStyle:{"align-items":"flex-end","border-right":"3px solid #9aadab","border-bottom":"1px solid #9aadab"}},t._l(t.teeth_up_right,(function(e,i){return t.patientData.age>12&&t.rightSideTeethAdultCounter[i]||"#"!=t.rightSideTeethChildCounter[i]?a("div",{key:i,staticClass:"col-lg-1 col-md-1 col-sm-1 mt-4",attrs:{title:e.status}},[a("b-img",{staticClass:"teeth-img",style:"background-color:"+t.statusColor[e.status],attrs:{width:e.width,src:e.imgSrc},on:{click:function(a){return t.chengeTeeth(e,t.patientData.age>12?t.rightSideTeethAdultCounter[i]:t.rightSideTeethChildCounter[i],"Upper Right")}}}),a("p",{staticStyle:{"padding-left":"15px"}},[t._v(t._s(t.patientData.age>12?t.rightSideTeethAdultCounter[i]:t.rightSideTeethChildCounter[i]))])],1):t._e()})),0)])]),t.isLoading?t._e():a("div",{staticClass:"row",staticStyle:{"background-color":"#acd5d1","text-align":"center"},attrs:{dir:"rtl"}},[a("div",{staticClass:"col-lg-6 col-md-6 col-sm-6"},[t.isLoading?t._e():a("div",{staticClass:"row",staticStyle:{"padding-left":"20px","align-items":"flex-start","border-right":"3px solid #9aadab","justify-content":"flex-end","border-top":"2px solid #9aadab"}},[t._l(t.teeth_lower_left,(function(e,i){return t.patientData.age>12&&t.leftSideTeethAdultCounter[i]||"#"!=t.leftSideTeethChildCounter[i]?a("div",{key:i,staticClass:"col-lg-1 col-md-1 col-sm-1 mt-4",attrs:{title:e.status}},[a("p",{staticStyle:{"padding-left":"15px"}},[t._v(t._s(t.patientData.age>12?t.leftSideTeethAdultCounter[i]:t.leftSideTeethChildCounter[i]))]),a("b-img",{staticClass:"teeth-img",staticStyle:{transform:"rotate(180deg)"},style:"background-color:"+t.statusColor[e.status],attrs:{width:e.width,src:e.imgSrc},on:{click:function(a){return t.chengeTeeth(e,t.patientData.age>12?t.leftSideTeethAdultCounter[i]:t.leftSideTeethChildCounter[i],"Lower Left")}}})],1):t._e()})),a("br")],2),a("br"),a("h6",[t._v("Lower Left")])]),a("div",{staticClass:"col-lg-6 col-md-6 col-sm-12"},[t.isLoading?t._e():a("div",{staticClass:"row",staticStyle:{"align-items":"flex-start","border-right":"3px solid #9aadab","border-top":"2px solid #9aadab"}},t._l(t.teeth_lower_right,(function(e,i){return t.patientData.age>12&&t.rightSideTeethAdultCounter[i]||"#"!=t.rightSideTeethChildCounter[i]?a("div",{key:i,staticClass:"col-lg-1 col-md-1 col-sm-1 mt-4",attrs:{title:e.status}},[a("p",{staticStyle:{"padding-left":"15px"}},[t._v(t._s(t.patientData.age>12?t.rightSideTeethAdultCounter[i]:t.rightSideTeethChildCounter[i]))]),a("b-img",{staticClass:"teeth-img",staticStyle:{transform:"rotate(180deg)"},style:"background-color:"+t.statusColor[e.status],attrs:{width:e.width,src:e.imgSrc},on:{click:function(a){return t.chengeTeeth(e,t.patientData.age>12?t.rightSideTeethAdultCounter[i]:t.rightSideTeethChildCounter[i],"Lower Right")}}})],1):t._e()})),0),a("br"),a("h6",[t._v("Lower Right")])])])]),a("div",{staticClass:"col-lg-3 col-md-6 col-sm-6 mt-4",attrs:{dir:"ltr"}},[t.isLoading?t._e():a("div",{attrs:{dir:"ltr"}},[t._m(1),a("h6",[t._v(t._s(t.visitOperationDic[t.$route.params.id].operations.length+" operations"))])]),t.visitOperationDic[t.$route.params.id].operations.length>0?a("b-list-group",t._l(t.visitOperationDic[t.$route.params.id].operations,(function(e){return a("b-list-group-item",{key:e.id,staticClass:"flex-column align-items-start "},[a("div",{staticClass:"d-flex w-100 justify-content-between"},[a("div",[a("p",{staticClass:"mb-1"},[t._v(t._s(e.operation)+" - "+t._s(e.cost+" EPG"))]),a("div",[a("label",{staticStyle:{"font-size":"12px"}},[t._v("Price after discount")]),a("br"),a("b-form-input",{staticClass:"w-50",staticStyle:{display:"inline"},attrs:{size:"sm",id:"operation-price",name:"operation-price"},model:{value:e.discoundCost,callback:function(a){t.$set(e,"discoundCost",a)},expression:"operation.discoundCost"}})],1)]),a("small",[a("b-button",{staticClass:"btn btn-danger options-table-btn del-options-table-btn",attrs:{type:"button",size:"sm","data-toggle":"modal","data-target":"#delAdmin"},on:{click:function(a){return t.deleteOperation(e.id)}}},[a("i",{staticClass:"fa fa-trash"})])],1)])])})),1):a("div",[a("p",[a("b-badge",[t._v("No Operations.")])],1)]),t.isLoading?t._e():a("div",[a("b-button",{attrs:{size:"md",variant:"success"},on:{click:function(e){return t.endVisit()}}},[t._v(" End Visit ")])],1)],1)])]):t._e(),a("b-modal",{attrs:{title:t.langIsEng?"Operation":"عمليه"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{size:"sm",variant:"secondary"},on:{click:function(e){t.teethOperationModal=!1}}},[t._v(" "+t._s(t.langIsEng?"Cancel":"الغاء")+" ")]),a("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(e){return t.submitOperation()}}},[t._v(" "+t._s(t.langIsEng?"Save":"حفظ")+" ")])]},proxy:!0}]),model:{value:t.teethOperationModal,callback:function(e){t.teethOperationModal=e},expression:"teethOperationModal"}},[a("div",{staticClass:"my-4"},[a("b-row",[a("b-col",{staticClass:"pt-4",staticStyle:{"background-color":"#acd5d1","text-align":"center"}},[a("b-img",{staticClass:"teeth-img mb-1",staticStyle:{cursor:"arrow !important"},style:"background-color:"+t.currentTeeth.color,attrs:{width:t.currentTeeth.width,src:t.currentTeeth.imgSrc}}),a("p",{staticStyle:{"padding-left":"15px"}},[t._v(t._s(t.currentTeeth.position+" - "+t.currentTeeth.teethName))])],1),a("b-col",{attrs:{lg:"12",md:"12"}},[a("b-form-group",{attrs:{id:"group-visit-add-doctor",label:t.langIsEng?"Status":"الحالة"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.operation,expression:"operation"}],staticClass:"custom-select",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.operation=e.target.multiple?a:a[0]},function(e){return t.changeCurrentStatus(t.operation)}]}},t._l(t.operationsEn,(function(e){return a("optgroup",{key:e.id,attrs:{label:e.name}},t._l(e.operations,(function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.name+" - "+e.cost+" egp"))])})),0)})),0)])],1)],1)],1)])],1)},ie=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",[a("b",[t._v("Current Visit")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",[a("b",[t._v("Today's operations")])])}],se={name:"Home",data:function(){return{isLoading:!1,langIsEng:null,currentPage:1,total:null,data:{},alertCountdown:0,alertType:"",alertText:"",users:0,videos:0,teeth:a("9046"),patientData:{},leftSideTeethAdultCounter:["8","7","6","5","4","3","2","1"],rightSideTeethAdultCounter:["1","2","3","4","5","6","7","8"],leftSideTeethChildCounter:["#","#","#","E","D","C","B","A"],rightSideTeethChildCounter:["A","B","C","D","E","#","#","#"],teeth_up_left:[],teeth_up_right:[],teeth_lower_left:[],teeth_lower_right:[],operationsEn:[],operation:{},operationsDic:{},visitOperationDic:{},currentTeeth:{},teethOperationModal:!1,statusColor:{Good:"white",good:"white",Calculs:"#F2E4D2",Cares:"#FFFF00",Missing:"#948A54",Implant:"#FF0000","Fixed prosthetics":"#974706","Removable prosthetics":"#4F6228","Post & Core":"#C4AEAD",Filling:"#C4AEAD",Normal:"#FFA07A",Retreatment:"#FFA07A",Simple:"#667C26",Impaction:"#667C26",PFM:"#E2A76F",Zirconia:"#E2A76F",Scaling:"#00B0F0"}}},methods:{endVisit:function(){var t=this,e=0;this.visitOperationDic[this.$route.params.id].operations.forEach((function(a){t.isLoading=!0,t.pageIsLoading=!0;var i={cost:a.discoundCost},s=function(a){t.isLoading=!1,t.pageIsLoading=!1,t.alertType="success",t.alertText="Success",t.alertCountdown="3",e+=1,e==t.visitOperationDic[t.$route.params.id].operations.length&&t.updateVisitStatus()},n=function(){t.isLoading=!1,t.pageIsLoading=!1,t.alertType="danger",t.alertText="حدث خطأ ما ، حاول قريبًا",t.alertCountdown="3"};pe("put","/doctor/update-operation-teeth/"+a.id,!0,i,s,n)}))},updateVisitStatus:function(){var t=this;this.pageIsLoading=!0,this.isLoading=!0;var e=function(){t.alertType="success",t.alertText="تم تحديث الزيارة.",t.alertCountdown="3",t.$router.push({name:"home"})},a=function(){t.isLoading=!1,t.alertType="danger",t.alertText=t.langIsEng?"Wrong .. try soon !":"حدث خطأ ما ، حاول قريبًا",t.alertCountdown="3"};pe("put","/nurse/visits/"+this.$route.params.id,!0,{status:"جاهز للدفع"},e,a)},countDownChanged:function(t){this.alertCountdown=t},submitOperation:function(){var t=this;this.teethOperationModal=!1,this.isLoading=!0,this.pageIsLoading=!0;var e={visit_id:this.$route.params.id,patient_id:this.$route.params.patientId,operation:this.currentTeeth.name,cost:this.currentTeeth.cost},a=function(e){t.isLoading=!1,t.pageIsLoading=!1,t.alertType="success",t.alertText="Success",t.alertCountdown="3",t.getProfileData(t.$route.params.patientId)},i=function(){t.isLoading=!1,t.pageIsLoading=!1,t.alertType="danger",t.alertText="حدث خطأ ما ، حاول قريبًا",t.alertCountdown="3"};pe("post","/doctor/set-operation-teeth/"+this.currentTeeth.id,!0,e,a,i)},deleteOperation:function(t){var e=this;if(this.pageIsLoading=!0,this.isLoading=!0,t){this.isLoading=!0;var a=function(){e.alertType="success",e.alertText=e.langIsEng?"Operation removed successfully.":"تم حذف العملية.",e.alertCountdown="3",e.getProfileData(e.$route.params.patientId)},i=function(){e.isLoading=!1,e.alertType="danger",e.alertText=e.langIsEng?"Wrong .. try soon !":"حدث خطأ ما ، حاول قريبًا",e.alertCountdown="3"};pe("delete","/doctor/operation-teeth/"+t,!0,null,a,i)}},changeCurrentStatus:function(t){this.currentTeeth.status=t.name,this.currentTeeth.name=t.name,this.currentTeeth.cost=t.cost,this.currentTeeth.color=t.color},chengeTeeth:function(t,e,a){this.currentTeeth=t,this.currentTeeth.teethName=e,this.currentTeeth.position=a,this.currentTeeth.isLower=this.currentTeeth.position.includes("Lower"),this.operation=t.status,this.teethOperationModal=!0},getProfileData:function(t){var e=this;this.isLoading=!0,this.pageIsLoading=!0,this.teeth_up_left=[],this.teeth_up_right=[],this.teeth_lower_left=[],this.teeth_lower_right=[];var i=function(t){e.patientData=t.data.data;for(var i=0;i<4;i++){e.isLoading=!0,e.pageIsLoading=!0;for(var s=0;s<8;s++)e.isLoading=!0,e.pageIsLoading=!0,0!=s&&1!=s&&2!=s||(e.patientData.teeths[s].imgSrc=a("9046"),e.patientData.teeths[s].width=25,e.patientData.teeths[s].type=4),3!=s&&4!=s||(e.patientData.teeths[s].imgSrc=a("a4aa"),e.patientData.teeths[s].width=20,e.patientData.teeths[s].type=3),5==s&&(e.patientData.teeths[s].imgSrc=a("e827"),e.patientData.teeths[s].width=20,e.patientData.teeths[s].type=2),6!=s&&7!=s||(e.patientData.teeths[s].imgSrc=a("4e43"),e.patientData.teeths[s].width=20,e.patientData.teeths[s].type=1),0==i&&e.teeth_up_left.push(e.patientData.teeths[s]);for(var n=8;n<16;n++)e.isLoading=!0,e.pageIsLoading=!0,15!=n&&14!=n&&13!=n||(e.patientData.teeths[n].imgSrc=a("9046"),e.patientData.teeths[n].width=25,e.patientData.teeths[n].type=4),12!=n&&11!=n||(e.patientData.teeths[n].imgSrc=a("a4aa"),e.patientData.teeths[n].width=20,e.patientData.teeths[n].type=3),10==n&&(e.patientData.teeths[n].imgSrc=a("e827"),e.patientData.teeths[n].width=20,e.patientData.teeths[n].type=2),9!=n&&8!=n||(e.patientData.teeths[n].imgSrc=a("4e43"),e.patientData.teeths[n].width=20,e.patientData.teeths[n].type=1),0==i&&e.teeth_up_right.push(e.patientData.teeths[n]);for(var o=16;o<24;o++)e.isLoading=!0,e.pageIsLoading=!0,16!=o&&17!=o&&18!=o||(e.patientData.teeths[o].imgSrc=a("9046"),e.patientData.teeths[o].width=25,e.patientData.teeths[o].type=4),19!=o&&20!=o||(e.patientData.teeths[o].imgSrc=a("a4aa"),e.patientData.teeths[o].width=20,e.patientData.teeths[o].type=3),21==o&&(e.patientData.teeths[o].imgSrc=a("e827"),e.patientData.teeths[o].width=20,e.patientData.teeths[o].type=2),22!=o&&23!=o||(e.patientData.teeths[o].imgSrc=a("4e43"),e.patientData.teeths[o].width=20,e.patientData.teeths[o].type=1),0==i&&e.teeth_lower_left.push(e.patientData.teeths[o]);for(var r=24;r<32;r++)e.isLoading=!0,e.pageIsLoading=!0,31!=r&&30!=r&&29!=r||(e.patientData.teeths[r].imgSrc=a("9046"),e.patientData.teeths[r].width=25,e.patientData.teeths[r].type=4),28!=r&&27!=r||(e.patientData.teeths[r].imgSrc=a("a4aa"),e.patientData.teeths[r].width=20,e.patientData.teeths[r].type=3),26==r&&(e.patientData.teeths[r].imgSrc=a("e827"),e.patientData.teeths[r].width=20,e.patientData.teeths[r].type=2),25!=r&&24!=r||(e.patientData.teeths[r].imgSrc=a("4e43"),e.patientData.teeths[r].width=20,e.patientData.teeths[r].type=1),0==i&&e.teeth_lower_right.push(e.patientData.teeths[r])}e.patientData.visits.forEach((function(t){t.id==e.$route.params.id&&(e.visitOperationDic[t.id]=t)})),e.visitOperationDic[e.$route.params.id].operations.forEach((function(t){t.discoundCost=t.cost})),e.isLoading=!1,e.pageIsLoading=!1},s=function(){e.isLoading=!1,e.pageIsLoading=!1,e.alertType="danger",e.alertText="حدث خطأ ما ، حاول قريبًا",e.alertCountdown="3"};pe("get","/doctor/show-patient/"+t,!0,null,i,s)},getOperations:function(){var t=this;this.isLoading=!0,this.pageIsLoading=!0,this.operationsDic={};var e=function(e){e.data.data.forEach((function(e){e.text=e.name,e.value=e.name,t.operationsEn.push(e),t.operationsDic[e.id]=e.name})),t.isLoading=!1,t.pageIsLoading=!1},a=function(){t.isLoading=!1,t.pageIsLoading=!1,t.alertType="danger",t.alertText="حدث خطأ ما ، حاول قريبًا",t.alertCountdown="3"};pe("get","/doctor/show-operations",!0,null,e,a)},goToVisit:function(t){this.$router.push({name:"visit",params:{id:t.id,visit:t}})}},created:function(){this.langIsEng="en"==v.getters.getlang,"doctor"==v.getters.getRole?this.isDoctor=!0:"nurse"==v.getters.getRole&&(this.isDoctor=!1),this.getOperations(),this.getProfileData(this.$route.params.patientId)}},ne=se,oe=(a("0d7b"),Object(L["a"])(ne,ae,ie,!1,null,"2436c48b",null)),re=oe.exports,le=function(t,e,a){v.getters.authToken?a():(v.commit("LOGOUT"),a({name:"login"}))},de=function(t,e,a){v.getters.authToken?("nurse"!=v.getters.getRole&&a({name:"home"}),a()):(v.commit("LOGOUT"),a({name:"login"}))},ce=function(t,e,a){v.getters.authToken?("doctor"!=v.getters.accoutType&&a({name:"home"}),a()):(v.commit("LOGOUT"),a({name:"login"}))},ue={isLoggedIn:le,isNurse:de,isDoctor:ce};i["default"].use(x["a"]);var me=[{path:"/",name:"home",component:et,beforeEnter:ue.isLoggedIn},{path:"/login",name:"login",component:O},{path:"/edit-profile",name:"editProfile",component:gt,beforeEnter:ue.isLoggedIn},{path:"/add-visit",name:"AddVisit",component:_t,beforeEnter:ue.isNurse},{path:"/update-visit/:id/patient/:name",name:"UpdateVisit",component:wt,beforeEnter:ue.isNurse},{path:"/patients",name:"patients",component:Lt,beforeEnter:ue.isNurse},{path:"/add-patient",name:"addPatient",component:Ot,beforeEnter:ue.isNurse},{path:"/edit-patient/:id",name:"editPatient",component:Ut,beforeEnter:ue.isNurse},{path:"/patient-profile/:id",name:"patientProfile",component:Kt},{path:"/patient-profile-medical/:id",name:"patientProfileMedical",component:ee},{path:"/patient/:patientId/visit/:id",name:"patientVisit",component:re},{path:"*",name:"NotFound",component:rt,beforeEnter:ue.isLoggedIn}],ge=new x["a"]({mode:"history",routes:me}),he=ge,pe=function(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],r=null;a&&(r={headers:{authorization:"Bearer "+v.getters.authToken}},o&&(r["Content-Type"]="multipart/form-data"));var l={get:y.a.get,post:y.a.post,delete:y.a.delete,put:y.a.put,patch:y.a.patch},d="http://localhost/dentist/public/api"+e,c=null;c=i?l[t](d,i,r):l[t](d,r),c.then((function(t){s&&s(t)})).catch((function(t){n&&(401==t.response.status&&(v.commit("LOGOUT"),he.push({name:"login"})),n(t))}))},fe={data:function(){return{isVisible:!1,username:null,lang:null,langIsEng:null,currentLang:null,role:null}},components:{},watch:{$route:function(t,e){this.username=this.$store.getters.username,this.role=this.$store.getters.getRole}},methods:{goToSettingsRouter:function(){this.$router.push({name:"editProfile"})},navToogle:function(){this.isVisible=!this.isVisible},logout:function(){v.commit("LOGOUT"),this.$router.push({name:"login"})},changeLang:function(){"ar"==this.currentLang?v.commit("SET_LANG","ar"):v.commit("SET_LANG","en"),location.reload()}},created:function(){this.role=v.getters.getRole,this.username=v.getters.username?v.getters.username:"مسئول",this.lang=v.getters.getlang,this.currentLang=this.lang,this.langIsEng="en"==v.getters.getlang}},be=fe,ve=(a("2d64"),Object(L["a"])(be,o,r,!1,null,"320c514a",null)),_e=ve.exports,ye={data:function(){return{form:"",accountType:null}},components:{navBar:_e},created:function(){this.lang=v.getters.getlang}},xe=ye,Ce=(a("7122"),Object(L["a"])(xe,s,n,!1,null,"64a5a69c",null)),De=Ce.exports,Ie=a("5f5b"),we=a("b1e0"),$e=(a("f9e3"),a("2dd8"),a("dbc8"),a("42ab")),ke=a.n($e);i["default"].use(l["a"]),"ar"==v.getters.getlang&&a.e("chunk-76d28651").then(a.t.bind(null,"0d2f",7)).then((function(t){})),i["default"].use(ke.a),i["default"].use(k.a),i["default"].use(Ie["a"],we["a"],y.a),i["default"].config.productionTip=!1,new i["default"]({router:he,store:v,render:function(t){return t(De)}}).$mount("#app")},"58b7":function(t,e,a){},"69d3":function(t,e,a){"use strict";a("9167")},7122:function(t,e,a){"use strict";a("f507")},"76a1":function(t,e,a){"use strict";a("1c16")},"7d85":function(t,e,a){},9046:function(t,e,a){t.exports=a.p+"img/type4-0.dcb8a061.png"},9167:function(t,e,a){},9554:function(t,e,a){"use strict";a("e57d")},a239:function(t,e,a){"use strict";a("c4e4")},a4aa:function(t,e,a){t.exports=a.p+"img/type3-0.6e188002.png"},c4e4:function(t,e,a){},d6db:function(t,e,a){"use strict";a("e67a")},dbc8:function(t,e,a){},e57d:function(t,e,a){},e67a:function(t,e,a){},e827:function(t,e,a){t.exports=a.p+"img/type2-0.593399a6.png"},f191:function(t,e,a){},f507:function(t,e,a){}});
//# sourceMappingURL=app.3d5095ef.js.map